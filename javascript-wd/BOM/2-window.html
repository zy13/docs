<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zy&#39;s docs</title>
    <meta name="description" content="Welcome!">
    <limk rel="icon" href="/docs/logo.png"></limk>
  <link rel="manifest" href="/docs/manifest.json">
  <meta name="theme-color" content="#ccc">
    
    <link rel="preload" href="/docs/assets/css/0.styles.8912bdf8.css" as="style"><link rel="preload" href="/docs/assets/js/app.acf4c017.js" as="script"><link rel="preload" href="/docs/assets/js/75.50d34247.js" as="script"><link rel="preload" href="/docs/assets/js/221.2383e08f.js" as="script"><link rel="prefetch" href="/docs/assets/js/68.0949f5a6.js"><link rel="prefetch" href="/docs/assets/js/1.6a2045ef.js"><link rel="prefetch" href="/docs/assets/js/2.b5f3db6a.js"><link rel="prefetch" href="/docs/assets/js/3.219f09ba.js"><link rel="prefetch" href="/docs/assets/js/4.8ee55220.js"><link rel="prefetch" href="/docs/assets/js/5.87cde8e5.js"><link rel="prefetch" href="/docs/assets/js/6.0e65e52f.js"><link rel="prefetch" href="/docs/assets/js/7.61916ad4.js"><link rel="prefetch" href="/docs/assets/js/8.c2320f88.js"><link rel="prefetch" href="/docs/assets/js/9.3939e875.js"><link rel="prefetch" href="/docs/assets/js/10.ab015975.js"><link rel="prefetch" href="/docs/assets/js/11.f26d0dbe.js"><link rel="prefetch" href="/docs/assets/js/12.a83b5e17.js"><link rel="prefetch" href="/docs/assets/js/13.3f4ce23b.js"><link rel="prefetch" href="/docs/assets/js/14.788d1837.js"><link rel="prefetch" href="/docs/assets/js/15.4578a994.js"><link rel="prefetch" href="/docs/assets/js/16.c88f046d.js"><link rel="prefetch" href="/docs/assets/js/17.bda3b65a.js"><link rel="prefetch" href="/docs/assets/js/18.f51293d6.js"><link rel="prefetch" href="/docs/assets/js/19.e23bdb82.js"><link rel="prefetch" href="/docs/assets/js/20.9a922dab.js"><link rel="prefetch" href="/docs/assets/js/21.2c6da050.js"><link rel="prefetch" href="/docs/assets/js/22.6118c2ea.js"><link rel="prefetch" href="/docs/assets/js/23.ce4cf644.js"><link rel="prefetch" href="/docs/assets/js/24.ae10fafa.js"><link rel="prefetch" href="/docs/assets/js/25.928437eb.js"><link rel="prefetch" href="/docs/assets/js/26.8cb0b9b6.js"><link rel="prefetch" href="/docs/assets/js/27.382eb8da.js"><link rel="prefetch" href="/docs/assets/js/28.17c15003.js"><link rel="prefetch" href="/docs/assets/js/29.d47780b1.js"><link rel="prefetch" href="/docs/assets/js/30.ca5d8646.js"><link rel="prefetch" href="/docs/assets/js/31.e97fc58f.js"><link rel="prefetch" href="/docs/assets/js/32.0c64de17.js"><link rel="prefetch" href="/docs/assets/js/33.930d6f78.js"><link rel="prefetch" href="/docs/assets/js/34.6fecaaf4.js"><link rel="prefetch" href="/docs/assets/js/35.15ec5007.js"><link rel="prefetch" href="/docs/assets/js/36.111dbe33.js"><link rel="prefetch" href="/docs/assets/js/37.c2b3add1.js"><link rel="prefetch" href="/docs/assets/js/38.828abaf6.js"><link rel="prefetch" href="/docs/assets/js/39.734a24da.js"><link rel="prefetch" href="/docs/assets/js/40.e69160d7.js"><link rel="prefetch" href="/docs/assets/js/41.dd684a74.js"><link rel="prefetch" href="/docs/assets/js/42.309aa73e.js"><link rel="prefetch" href="/docs/assets/js/43.79668988.js"><link rel="prefetch" href="/docs/assets/js/44.167ed7a1.js"><link rel="prefetch" href="/docs/assets/js/45.70f35d40.js"><link rel="prefetch" href="/docs/assets/js/46.c9b62498.js"><link rel="prefetch" href="/docs/assets/js/47.8555fc5c.js"><link rel="prefetch" href="/docs/assets/js/48.ef9f36c4.js"><link rel="prefetch" href="/docs/assets/js/49.f36e6af6.js"><link rel="prefetch" href="/docs/assets/js/50.ce7d469f.js"><link rel="prefetch" href="/docs/assets/js/51.1bc4f677.js"><link rel="prefetch" href="/docs/assets/js/52.3ad516c7.js"><link rel="prefetch" href="/docs/assets/js/53.74e97523.js"><link rel="prefetch" href="/docs/assets/js/54.0fb41450.js"><link rel="prefetch" href="/docs/assets/js/55.2bafb766.js"><link rel="prefetch" href="/docs/assets/js/56.f7fc87ce.js"><link rel="prefetch" href="/docs/assets/js/57.e58e92d4.js"><link rel="prefetch" href="/docs/assets/js/58.e1315a5a.js"><link rel="prefetch" href="/docs/assets/js/59.2db26cda.js"><link rel="prefetch" href="/docs/assets/js/60.7d1dd448.js"><link rel="prefetch" href="/docs/assets/js/61.23f37ee9.js"><link rel="prefetch" href="/docs/assets/js/62.147ba493.js"><link rel="prefetch" href="/docs/assets/js/63.e7d1038b.js"><link rel="prefetch" href="/docs/assets/js/64.19b6fa3d.js"><link rel="prefetch" href="/docs/assets/js/65.46aa7ef7.js"><link rel="prefetch" href="/docs/assets/js/66.04d3893a.js"><link rel="prefetch" href="/docs/assets/js/67.178c9fba.js"><link rel="prefetch" href="/docs/assets/js/69.c2893f3a.js"><link rel="prefetch" href="/docs/assets/js/70.7a2a176e.js"><link rel="prefetch" href="/docs/assets/js/71.ba13bf2a.js"><link rel="prefetch" href="/docs/assets/js/72.9a0ab200.js"><link rel="prefetch" href="/docs/assets/js/73.932aa523.js"><link rel="prefetch" href="/docs/assets/js/74.8e601453.js"><link rel="prefetch" href="/docs/assets/js/76.42fcca85.js"><link rel="prefetch" href="/docs/assets/js/77.209afa80.js"><link rel="prefetch" href="/docs/assets/js/78.e6a098a4.js"><link rel="prefetch" href="/docs/assets/js/79.df755869.js"><link rel="prefetch" href="/docs/assets/js/80.8485996a.js"><link rel="prefetch" href="/docs/assets/js/81.e1346e6c.js"><link rel="prefetch" href="/docs/assets/js/82.b6a82fab.js"><link rel="prefetch" href="/docs/assets/js/83.3a0aad16.js"><link rel="prefetch" href="/docs/assets/js/84.db8784c0.js"><link rel="prefetch" href="/docs/assets/js/85.b577b1a5.js"><link rel="prefetch" href="/docs/assets/js/86.dc089bcc.js"><link rel="prefetch" href="/docs/assets/js/87.18718c47.js"><link rel="prefetch" href="/docs/assets/js/88.45a535b3.js"><link rel="prefetch" href="/docs/assets/js/89.f4403f46.js"><link rel="prefetch" href="/docs/assets/js/90.88b43a93.js"><link rel="prefetch" href="/docs/assets/js/91.8da65492.js"><link rel="prefetch" href="/docs/assets/js/92.4feea20b.js"><link rel="prefetch" href="/docs/assets/js/93.d45ed88a.js"><link rel="prefetch" href="/docs/assets/js/94.9d832728.js"><link rel="prefetch" href="/docs/assets/js/95.b3dfb83f.js"><link rel="prefetch" href="/docs/assets/js/96.656fee38.js"><link rel="prefetch" href="/docs/assets/js/97.6eff8f66.js"><link rel="prefetch" href="/docs/assets/js/98.9f0e66bc.js"><link rel="prefetch" href="/docs/assets/js/99.032bfecd.js"><link rel="prefetch" href="/docs/assets/js/100.737761ad.js"><link rel="prefetch" href="/docs/assets/js/101.6970e95d.js"><link rel="prefetch" href="/docs/assets/js/102.74d9d087.js"><link rel="prefetch" href="/docs/assets/js/103.b7e392a0.js"><link rel="prefetch" href="/docs/assets/js/104.41a49370.js"><link rel="prefetch" href="/docs/assets/js/105.1019523a.js"><link rel="prefetch" href="/docs/assets/js/106.73b7319e.js"><link rel="prefetch" href="/docs/assets/js/107.9f2f6271.js"><link rel="prefetch" href="/docs/assets/js/108.77620658.js"><link rel="prefetch" href="/docs/assets/js/109.a2956b0d.js"><link rel="prefetch" href="/docs/assets/js/110.23a3ce76.js"><link rel="prefetch" href="/docs/assets/js/111.4ccc0dde.js"><link rel="prefetch" href="/docs/assets/js/112.30932a5c.js"><link rel="prefetch" href="/docs/assets/js/113.14372203.js"><link rel="prefetch" href="/docs/assets/js/114.752dee54.js"><link rel="prefetch" href="/docs/assets/js/115.b6e134e2.js"><link rel="prefetch" href="/docs/assets/js/116.5f0b7e73.js"><link rel="prefetch" href="/docs/assets/js/117.2e438b40.js"><link rel="prefetch" href="/docs/assets/js/118.7bc71357.js"><link rel="prefetch" href="/docs/assets/js/119.7a632ac0.js"><link rel="prefetch" href="/docs/assets/js/120.4fa561c7.js"><link rel="prefetch" href="/docs/assets/js/121.6fea8d64.js"><link rel="prefetch" href="/docs/assets/js/122.1dcd7eb4.js"><link rel="prefetch" href="/docs/assets/js/123.748e1cfa.js"><link rel="prefetch" href="/docs/assets/js/124.fb88d2ce.js"><link rel="prefetch" href="/docs/assets/js/125.30c58dc4.js"><link rel="prefetch" href="/docs/assets/js/126.4928e376.js"><link rel="prefetch" href="/docs/assets/js/127.e4004279.js"><link rel="prefetch" href="/docs/assets/js/128.58004c99.js"><link rel="prefetch" href="/docs/assets/js/129.25166f4c.js"><link rel="prefetch" href="/docs/assets/js/130.ab0b2d61.js"><link rel="prefetch" href="/docs/assets/js/131.cf363208.js"><link rel="prefetch" href="/docs/assets/js/132.b3ccf5bc.js"><link rel="prefetch" href="/docs/assets/js/133.193edc8a.js"><link rel="prefetch" href="/docs/assets/js/134.a208587f.js"><link rel="prefetch" href="/docs/assets/js/135.fd1e63d4.js"><link rel="prefetch" href="/docs/assets/js/136.86a1f4c5.js"><link rel="prefetch" href="/docs/assets/js/137.4291ce53.js"><link rel="prefetch" href="/docs/assets/js/138.28634585.js"><link rel="prefetch" href="/docs/assets/js/139.fc7f3ea7.js"><link rel="prefetch" href="/docs/assets/js/140.c0ed5f14.js"><link rel="prefetch" href="/docs/assets/js/141.679ce97c.js"><link rel="prefetch" href="/docs/assets/js/142.78e11f14.js"><link rel="prefetch" href="/docs/assets/js/143.7162ae6a.js"><link rel="prefetch" href="/docs/assets/js/144.872d5b44.js"><link rel="prefetch" href="/docs/assets/js/145.d4440db9.js"><link rel="prefetch" href="/docs/assets/js/146.11b5e61f.js"><link rel="prefetch" href="/docs/assets/js/147.5904dff6.js"><link rel="prefetch" href="/docs/assets/js/148.40256055.js"><link rel="prefetch" href="/docs/assets/js/149.96a4a846.js"><link rel="prefetch" href="/docs/assets/js/150.95d5f63c.js"><link rel="prefetch" href="/docs/assets/js/151.f623d9c2.js"><link rel="prefetch" href="/docs/assets/js/152.bdda962f.js"><link rel="prefetch" href="/docs/assets/js/153.6277a739.js"><link rel="prefetch" href="/docs/assets/js/154.4fa949c9.js"><link rel="prefetch" href="/docs/assets/js/155.a2861ac9.js"><link rel="prefetch" href="/docs/assets/js/156.ba791bf0.js"><link rel="prefetch" href="/docs/assets/js/157.82f5bd05.js"><link rel="prefetch" href="/docs/assets/js/158.d00242c1.js"><link rel="prefetch" href="/docs/assets/js/159.f6b62543.js"><link rel="prefetch" href="/docs/assets/js/160.f7691c52.js"><link rel="prefetch" href="/docs/assets/js/161.5de90b23.js"><link rel="prefetch" href="/docs/assets/js/162.ac6d4c38.js"><link rel="prefetch" href="/docs/assets/js/163.e43bf690.js"><link rel="prefetch" href="/docs/assets/js/164.fd225455.js"><link rel="prefetch" href="/docs/assets/js/165.33faf5d8.js"><link rel="prefetch" href="/docs/assets/js/166.43c39690.js"><link rel="prefetch" href="/docs/assets/js/167.f60f53cf.js"><link rel="prefetch" href="/docs/assets/js/168.0377ea50.js"><link rel="prefetch" href="/docs/assets/js/169.f2bf444d.js"><link rel="prefetch" href="/docs/assets/js/170.637798a1.js"><link rel="prefetch" href="/docs/assets/js/171.4d9edaa7.js"><link rel="prefetch" href="/docs/assets/js/172.20a017d5.js"><link rel="prefetch" href="/docs/assets/js/173.229ef695.js"><link rel="prefetch" href="/docs/assets/js/174.1d341fad.js"><link rel="prefetch" href="/docs/assets/js/175.ff21c2fa.js"><link rel="prefetch" href="/docs/assets/js/176.58bdd20d.js"><link rel="prefetch" href="/docs/assets/js/177.4b6e419c.js"><link rel="prefetch" href="/docs/assets/js/178.c38eacae.js"><link rel="prefetch" href="/docs/assets/js/179.2102ca04.js"><link rel="prefetch" href="/docs/assets/js/180.0acc8e12.js"><link rel="prefetch" href="/docs/assets/js/181.1191a3b6.js"><link rel="prefetch" href="/docs/assets/js/182.854004ca.js"><link rel="prefetch" href="/docs/assets/js/183.0a0e5b66.js"><link rel="prefetch" href="/docs/assets/js/184.8d8015dc.js"><link rel="prefetch" href="/docs/assets/js/185.1bab7135.js"><link rel="prefetch" href="/docs/assets/js/186.028e62aa.js"><link rel="prefetch" href="/docs/assets/js/187.9c630c62.js"><link rel="prefetch" href="/docs/assets/js/188.9e84d370.js"><link rel="prefetch" href="/docs/assets/js/189.a30ad706.js"><link rel="prefetch" href="/docs/assets/js/190.c8eedc5c.js"><link rel="prefetch" href="/docs/assets/js/191.bb2173bd.js"><link rel="prefetch" href="/docs/assets/js/192.2ce27902.js"><link rel="prefetch" href="/docs/assets/js/193.d991abd1.js"><link rel="prefetch" href="/docs/assets/js/194.b4413a9a.js"><link rel="prefetch" href="/docs/assets/js/195.92e73aa3.js"><link rel="prefetch" href="/docs/assets/js/196.adc1244a.js"><link rel="prefetch" href="/docs/assets/js/197.746b2621.js"><link rel="prefetch" href="/docs/assets/js/198.7b75e1dc.js"><link rel="prefetch" href="/docs/assets/js/199.813641d3.js"><link rel="prefetch" href="/docs/assets/js/200.29bcba4f.js"><link rel="prefetch" href="/docs/assets/js/201.10afeca4.js"><link rel="prefetch" href="/docs/assets/js/202.e6442c0a.js"><link rel="prefetch" href="/docs/assets/js/203.78d9f101.js"><link rel="prefetch" href="/docs/assets/js/204.11c2c1a6.js"><link rel="prefetch" href="/docs/assets/js/205.abddd1a3.js"><link rel="prefetch" href="/docs/assets/js/206.956e1f42.js"><link rel="prefetch" href="/docs/assets/js/207.4299c1ed.js"><link rel="prefetch" href="/docs/assets/js/208.4559c4e3.js"><link rel="prefetch" href="/docs/assets/js/209.7831ea49.js"><link rel="prefetch" href="/docs/assets/js/210.6c8328c6.js"><link rel="prefetch" href="/docs/assets/js/211.15e4b810.js"><link rel="prefetch" href="/docs/assets/js/212.462bf149.js"><link rel="prefetch" href="/docs/assets/js/213.78fd74e8.js"><link rel="prefetch" href="/docs/assets/js/214.d1299a62.js"><link rel="prefetch" href="/docs/assets/js/215.bb04e4d4.js"><link rel="prefetch" href="/docs/assets/js/216.98d1168a.js"><link rel="prefetch" href="/docs/assets/js/217.ac94712a.js"><link rel="prefetch" href="/docs/assets/js/218.b1f0aba6.js"><link rel="prefetch" href="/docs/assets/js/219.8ce0675a.js"><link rel="prefetch" href="/docs/assets/js/220.7186b642.js"><link rel="prefetch" href="/docs/assets/js/222.0d7d0baa.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.8912bdf8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/docs/" class="home-link router-link-active"><!----><span class="site-name">
      zy's docs
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/kkb/" class="nav-link">高级前端</a></div><div class="nav-item"><a href="/docs/resource/" class="nav-link">前端资源</a></div><div class="nav-item"><a href="/docs/javascript/" class="nav-link">JavaScript深入简出</a></div><div class="nav-item"><a href="/docs/javascript-wd/" class="nav-link router-link-active">JavaScript教程-网道</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">HTTP权威指南</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/kkb/" class="nav-link">高级前端</a></div><div class="nav-item"><a href="/docs/resource/" class="nav-link">前端资源</a></div><div class="nav-item"><a href="/docs/javascript/" class="nav-link">JavaScript深入简出</a></div><div class="nav-item"><a href="/docs/javascript-wd/" class="nav-link router-link-active">JavaScript教程-网道</a></div><div class="nav-item"><a href="/docs/http/" class="nav-link">HTTP权威指南</a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>第一章 数据类型</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>第二章 运算符</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>第三章 语法专题</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>第四章 标准库</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>第五章 面向对象编程</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>事件</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>浏览器模型</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/docs/javascript-wd/BOM/1-intro.html" class="sidebar-link">第1节 浏览器模型概述 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/2-window.html" class="active sidebar-link">第2节 window对象 - ♥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/javascript-wd/BOM/2-window.html#_1、概述" class="sidebar-link">1、概述</a></li><li class="sidebar-sub-header"><a href="/docs/javascript-wd/BOM/2-window.html#_2、window-对象的属性" class="sidebar-link">2、window 对象的属性</a></li><li class="sidebar-sub-header"><a href="/docs/javascript-wd/BOM/2-window.html#_3、window-对象的方法-♥" class="sidebar-link">3、window 对象的方法 - ♥</a></li><li class="sidebar-sub-header"><a href="/docs/javascript-wd/BOM/2-window.html#_4、事件" class="sidebar-link">4、事件</a></li><li class="sidebar-sub-header"><a href="/docs/javascript-wd/BOM/2-window.html#_5、多窗口操作" class="sidebar-link">5、多窗口操作</a></li></ul></li><li><a href="/docs/javascript-wd/BOM/3-ns.html" class="sidebar-link">第3节 Navigator 对象，Screen 对象</a></li><li><a href="/docs/javascript-wd/BOM/4-cookie.html" class="sidebar-link">第4节 Cookie  - ♥</a></li><li><a href="/docs/javascript-wd/BOM/5-xhr.html" class="sidebar-link">第5节 XMLHttpRequest 对象 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/6-corsl.html" class="sidebar-link">第6节 同源限制 - 跨域解决方案汇总 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/7-cors.html" class="sidebar-link">第7节 CORS 通信 - 根本解决方法 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/8-storage.html" class="sidebar-link">第8节 Storage 接口 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/9-history.html" class="sidebar-link">第9节 History 对象</a></li><li><a href="/docs/javascript-wd/BOM/10-luu.html" class="sidebar-link">第10节 Location 对象，URL 对象，URLSearchParams 对象</a></li><li><a href="/docs/javascript-wd/BOM/11-ab.html" class="sidebar-link">第11节 ArrayBuffer 对象，Blob 对象</a></li><li><a href="/docs/javascript-wd/BOM/12-fff.html" class="sidebar-link">第12节 File 对象，FileList 对象，FileReader 对象 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/13-fd.html" class="sidebar-link">第13节 表单，FormData 对象 - ♥</a></li><li><a href="/docs/javascript-wd/BOM/14-IndexedDB.html" class="sidebar-link">第14节 IndexedDB API</a></li><li><a href="/docs/javascript-wd/BOM/15-webWorker.html" class="sidebar-link">第15节 Web Worker</a></li><li><a href="/docs/javascript-wd/BOM/16-code.html" class="sidebar-link">第16节 手撕代码  - ♥</a></li></ul></div></li></ul></div><div class="page"><div class="content"><p>window对象-网道：<a href="https://www.wangdoc.com/javascript/bom/window.html" target="_blank" rel="noopener noreferrer">链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="_1、概述"><a href="#_1、概述" aria-hidden="true" class="header-anchor">#</a> 1、概述</h2><p>浏览器里面，<code>window</code>对象指当前的浏览器窗口。它也是当前页面的顶层对象，所有其他对象都是它的下属。</p><p>一个变量如果未声明，那么默认就是顶层对象的属性。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// a是一个没有声明就直接赋值的变量，它自动成为顶层对象的属性。</span>
a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>a <span class="token comment">// 1</span>
</code></pre></div><h3 id="未声明变量默认为顶层对象属性-原因"><a href="#未声明变量默认为顶层对象属性-原因" aria-hidden="true" class="header-anchor">#</a> 未声明变量默认为顶层对象属性 - 原因</h3><p>window有自己的实体含义，其实不适合当作最高一层的顶层对象，这是一个语言的设计失误。</p><p>最早，设计这门语言的时候，原始设想是语言内置的对象越少越好，这样可以提高浏览器的性能。因此，语言设计者 <code>Brendan Eich</code> 就把<code>window</code>对象当作顶层对象，所有未声明就赋值的变量都自动变成<code>window</code>对象的属性。<strong>这种设计使得编译阶段无法检测出未声明变量，但到了今天已经没有办法纠正了。</strong></p><h2 id="_2、window-对象的属性"><a href="#_2、window-对象的属性" aria-hidden="true" class="header-anchor">#</a> 2、window 对象的属性</h2><ul><li>window.name：<a href="/docs/javascript-wd/BOM/2-window.html#_2-1-window-name">link</a></li><li>window.closed，window.opener：<a href="/docs/javascript-wd/BOM/2-window.html#_2-2-window-closed，window-opener">link</a> - 只读</li><li>window.self，window.window：<a href="/docs/javascript-wd/BOM/2-window.html#_2-3-window-self，window-window">link</a> - 只读</li><li>window.frames，window.length：<a href="/docs/javascript-wd/BOM/2-window.html#_2-4-window-frames，window-length">link</a></li><li>window.frameElement：<a href="/docs/javascript-wd/BOM/2-window.html#_2-5-window-frameelement">link</a></li><li>window.top，window.parent：<a href="/docs/javascript-wd/BOM/2-window.html#_2-6-window-top，window-parent">link</a></li><li>window.status：<a href="/docs/javascript-wd/BOM/2-window.html#_2-7-window-status">link</a></li><li>window.devicePixelRatio：<a href="/docs/javascript-wd/BOM/2-window.html#_2-8-window-devicepixelratio">link</a></li><li><strong>位置大小属性</strong>：<a href="/docs/javascript-wd/BOM/2-window.html#_2-9-位置大小属性">link</a><ul><li>window.screenX，window.screenY - 只读: <a href="/docs/javascript-wd/BOM/2-window.html#（1）window-screenx，window-screeny">link</a></li><li>window.innerHeight，window.innerWidth - 只读: <a href="/docs/javascript-wd/BOM/2-window.html#（2）-window-innerheight，window-innerwidth">link</a></li><li>window.outerHeight，window.outerWidth - 只读: <a href="/docs/javascript-wd/BOM/2-window.html#（3）window-outerheight，window-outerwidth">link</a></li><li>window.scrollX，window.scrollY - 只读: <a href="/docs/javascript-wd/BOM/2-window.html#（4）window-scrollx，window-scrolly">link</a></li><li>window.pageXOffset，window.pageYOffset : <a href="/docs/javascript-wd/BOM/2-window.html#（5）window-pagexoffset，window-pageyoffset">link</a></li></ul></li><li>组件属性：<a href="/docs/javascript-wd/BOM/2-window.html#_2-10-组件属性">link</a></li><li>全局对象属性：<a href="/docs/javascript-wd/BOM/2-window.html#_2-11-全局对象属性">link</a></li><li>window.isSecureContext：<a href="/docs/javascript-wd/BOM/2-window.html#_2-12-window-issecurecontext">link</a></li></ul><h3 id="_2-1-window-name"><a href="#_2-1-window-name" aria-hidden="true" class="header-anchor">#</a> 2.1 window.name</h3><p><code>window.name</code>属性是一个字符串，表示当前浏览器窗口的名字。窗口不一定需要名字，这个属性主要配合超链接和表单的target属性使用。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 该属性只能保存字符串，如果写入的值不是字符串，会自动转成字符串。</span>
window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Hello World!'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre></div><ul><li>该属性只能保存字符串，如果写入的值不是字符串，会自动转成字符串。</li><li>各个浏览器对这个值的储存容量有所不同，但是一般来说，可以高达几MB。</li><li>只要浏览器窗口不关闭，这个属性是不会消失的。</li></ul><h4 id="举例-同一窗口访问不同的页面"><a href="#举例-同一窗口访问不同的页面" aria-hidden="true" class="header-anchor">#</a> 举例 - 同一窗口访问不同的页面</h4><p>例如，访问<code>a.com</code>时，该页面的脚本设置了<code>window.name</code>，接下来在同一个窗口里面载入了<code>b.com</code>，新页面的脚本可以读到上一个网页设置的<code>window.name</code>。页面刷新也是这种情况。一旦浏览器窗口关闭后，该属性保存的值就会消失，因为这时窗口已经不存在了。</p><ul><li>同一窗口共享同一个<code>window.name</code></li><li>窗口关闭后<code>window.name</code>失效</li></ul><h3 id="_2-2-window-closed，window-opener"><a href="#_2-2-window-closed，window-opener" aria-hidden="true" class="header-anchor">#</a> 2.2 window.closed，window.opener</h3><h4 id="window-closed属性"><a href="#window-closed属性" aria-hidden="true" class="header-anchor">#</a> window.closed属性</h4><p><code>window.closed</code>属性返回一个布尔值，表示窗口是否关闭。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 检查当前窗口是否关闭, 意义不大。</span>
window<span class="token punctuation">.</span>closed <span class="token comment">// false</span>
</code></pre></div><ul><li>只要能运行代码，当前窗口肯定没有关闭。</li><li>此属性一般用来检查，使用脚本打开的新窗口是否关闭。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>popup <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>popup<span class="token punctuation">.</span>closed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 窗口仍然打开着</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="window-opener属性"><a href="#window-opener属性" aria-hidden="true" class="header-anchor">#</a> window.opener属性</h4><p><code>window.opener</code>属性表示打开当前窗口的父窗口。如果当前窗口没有父窗口（即直接在地址栏输入打开），则返回null。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 打开一个新窗口，然后返回true。</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>opener <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><p>如果两个窗口之间不需要通信，建议将子窗口的opener属性显式设为null，这样可以减少一些安全隐患。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 子窗口的opener属性设为null，两个窗口之间就没办法再联系了。</span>
<span class="token keyword">var</span> newWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'example.html'</span><span class="token punctuation">,</span> <span class="token string">'newWindow'</span><span class="token punctuation">,</span> <span class="token string">'height=400,width=400'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newWin<span class="token punctuation">.</span>opener <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/docs/assets/img/win.b09d17db.png" alt="img"></p><ul><li>通过<code>opener</code>属性，可以获得父窗口的全局属性和方法，但只限于两个窗口同源的情况，且其中一个窗口由另一个打开。</li><li><code>&lt;a&gt;</code>元素添加<code>rel=&quot;noopener&quot;</code>属性，可以防止新打开的窗口获取父窗口，减轻被恶意网站修改父窗口 <code>URL</code> 的风险。</li></ul><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 添加`rel=&quot;noopener&quot;`属性, 减轻被被恶意网站修改父窗口 URL 的风险。 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://an.evil.site<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>noopener<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
恶意网站
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_2-3-window-self，window-window"><a href="#_2-3-window-self，window-window" aria-hidden="true" class="header-anchor">#</a> 2.3 window.self，window.window</h3><p><code>window.self</code>和<code>window.window</code>属性都指向窗口本身。这两个属性只读。</p><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>self <span class="token operator">===</span> window <span class="token comment">// true</span>
window<span class="token punctuation">.</span>window <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><h3 id="_2-4-window-frames，window-length"><a href="#_2-4-window-frames，window-length" aria-hidden="true" class="header-anchor">#</a> 2.4 window.frames，window.length</h3><h4 id="window-frames-属性"><a href="#window-frames-属性" aria-hidden="true" class="header-anchor">#</a> window.frames 属性</h4><p><code>window.frames</code>属性返回一个类似数组的对象，成员为页面内所有框架窗口，包括<code>frame</code>元素和<code>iframe</code>元素。<code>window.frames[0]</code>表示页面中第一个框架窗口。<code>frames</code>属性实际上是<code>window</code>对象的别名。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// `frames`属性实际上是`window`对象的别名</span>
window<span class="token punctuation">.</span>frames <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><ul><li><code>frames</code>属性实际上是<code>window</code>对象的别名;</li><li><code>frames[0]</code>也可以用<code>window[0]</code>表示;</li><li>从语义上看，<code>frames</code>更清晰，而且考虑到<code>window</code>还是全局对象，因此推荐表示多窗口时，总是使用<code>frames[0]</code>的写法。</li></ul><p>如果<code>iframe</code>元素设置了<code>id</code>或<code>name</code>属性，那么就可以用属性值，引用这个<code>iframe</code>窗口。比如<code>&lt;iframe name=&quot;myIFrame&quot;&gt;</code>可以用<code>frames['myIFrame']</code>或者<code>frames.myIFrame</code>来引用。</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 用frames['myIFrame']或者frames.myIFrame来引用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.baidu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">frameborder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myIFrame<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="window-length-属性"><a href="#window-length-属性" aria-hidden="true" class="header-anchor">#</a> window.length 属性</h4><p><code>window.length</code>属性返回当前网页包含的框架总数。如果当前网页不包含<code>frame</code>和<code>iframe</code>元素，那么<code>window.length</code>就返回<code>0</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// window.frames.length与window.length应该是相等的</span>
window<span class="token punctuation">.</span>frames<span class="token punctuation">.</span>length <span class="token operator">===</span> window<span class="token punctuation">.</span>length <span class="token comment">// true</span>
</code></pre></div><h3 id="_2-5-window-frameelement"><a href="#_2-5-window-frameelement" aria-hidden="true" class="header-anchor">#</a> 2.5 window.frameElement</h3><p><code>window.frameElement</code>属性主要用于<strong>当前窗口嵌在另一个网页的情况</strong>（嵌入<code>&lt;object&gt;</code>、<code>&lt;iframe&gt;</code>或<code>&lt;embed&gt;</code>元素），<strong>返回当前窗口所在的那个元素节点</strong>。如果当前窗口是顶层窗口，或者所嵌入的那个网页不是同源的，该属性返回<code>null</code>。</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--当前窗口是顶层窗口 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>about.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> frameEl <span class="token operator">=</span> window<span class="token punctuation">.</span>frameElement<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      frameEl<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'other.html'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 当前窗口为 about.html </span>
<span class="token keyword">var</span> frameEl <span class="token operator">=</span> window<span class="token punctuation">.</span>frameElement<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 顶层窗口中的&lt;iframe&gt;元素</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  frameEl<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'other.html'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-6-window-top，window-parent"><a href="#_2-6-window-top，window-parent" aria-hidden="true" class="header-anchor">#</a> 2.6 window.top，window.parent</h3><ul><li><code>window.top</code>属性指向最顶层窗口，主要用于在框架窗口（<code>frame</code>）里面获取顶层窗口。</li><li><code>window.parent</code>属性指向父窗口。如果当前窗口没有父窗口，<code>window.parent</code>指向自身。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>parent <span class="token operator">!==</span> window<span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 表明当前窗口嵌入不止一层</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>对于不包含框架的网页，这两个属性等同于<code>window</code>对象。</li></ul><h3 id="_2-7-window-status"><a href="#_2-7-window-status" aria-hidden="true" class="header-anchor">#</a> 2.7 window.status</h3><p><code>window.status</code>属性用于读写浏览器状态栏的文本。但是，现在很多浏览器都不允许改写状态栏文本，所以使用这个方法不一定有效。</p><h3 id="_2-8-window-devicepixelratio"><a href="#_2-8-window-devicepixelratio" aria-hidden="true" class="header-anchor">#</a> 2.8 window.devicePixelRatio</h3><p><code>window.devicePixelRatio</code>属性返回一个数值，表示一个 <code>CSS</code> 像素的大小与一个物理像素的大小之间的比率。</p><ul><li>它表示一个 <code>CSS</code> 像素由多少个物理像素组成;</li><li>它可以用于判断用户的显示环境;</li><li>如果这个比率较大，就表示用户正在使用高清屏幕，因此可以显示较大像素的图片。</li></ul><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>devicePixelRatio <span class="token comment">// 1 pc端</span>
window<span class="token punctuation">.</span>devicePixelRatio <span class="token comment">// 2 移动端</span>
</code></pre></div><h3 id="_2-9-位置大小属性"><a href="#_2-9-位置大小属性" aria-hidden="true" class="header-anchor">#</a> 2.9 位置大小属性</h3><p>以下属性返回<code>window</code>对象的<strong>位置信息</strong>和<strong>大小信息</strong>。</p><ul><li>window.screenX，window.screenY - 只读</li><li>window.innerHeight，window.innerWidth - 只读</li><li>window.outerHeight，window.outerWidth - 只读</li><li>window.scrollX，window.scrollY - 只读</li><li>window.pageXOffset，window.pageYOffset - window.screenX，window.screenY的别名</li></ul><h4 id="（1）window-screenx，window-screeny"><a href="#（1）window-screenx，window-screeny" aria-hidden="true" class="header-anchor">#</a> （1）window.screenX，window.screenY</h4><p><code>window.screenX</code>和<code>window.screenY</code>属性，返回浏览器窗口左上角相对于当前屏幕左上角的水平距离和垂直距离（单位像素）。这两个属性只读。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 浏览器窗口左上角 相对于 当前屏幕左上角</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span> <span class="token comment">// -1920 - 水平距离 - 双屏副屏幕</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>screenX<span class="token punctuation">)</span> <span class="token comment">// 0 - 水平距离 - 单屏幕 或者 双屏主屏幕</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>screenY<span class="token punctuation">)</span> <span class="token comment">// 0 - 垂直距离</span>
</code></pre></div><h4 id="（2）-window-innerheight，window-innerwidth"><a href="#（2）-window-innerheight，window-innerwidth" aria-hidden="true" class="header-anchor">#</a> （2） window.innerHeight，window.innerWidth</h4><p><code>window.innerHeight</code>和<code>window.innerWidth</code>属性，返回网页在当前窗口中<strong>可见部分</strong>的高度和宽度，即“视口”（<code>viewport</code>）的大小（单位像素）。这两个属性只读。</p><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token comment">// 937 - 视口高度，包括滚动条高度</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span> <span class="token comment">// 1321 - 视口宽度, 包括滚动条宽度</span>
</code></pre></div><ul><li>用户放大网页的时候（比如将网页从<code>100%</code>的大小放大为<code>200%</code>），这两个属性会变小，反之变大。
因为这时网页的像素大小不变（比如宽度还是<code>960</code>像素），只是每个像素占据的屏幕空间变大了，因此可见部分（视口）就变小了。</li><li>注意，这两个属性值包括滚动条的高度和宽度。</li></ul><h4 id="（3）window-outerheight，window-outerwidth"><a href="#（3）window-outerheight，window-outerwidth" aria-hidden="true" class="header-anchor">#</a> （3）window.outerHeight，window.outerWidth</h4><p><code>window.outerHeight</code>和<code>window.outerWidth</code>属性返回<strong>浏览器窗口</strong>的高度和宽度，包括浏览器菜单和边框（单位像素）。这两个属性只读。</p><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>outerHeight<span class="token punctuation">)</span> <span class="token comment">// 1040 - 浏览器窗口的高度</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>outerWidth<span class="token punctuation">)</span> <span class="token comment">// 1920 - 浏览器窗口的高度</span>
</code></pre></div><h4 id="（4）window-scrollx，window-scrolly"><a href="#（4）window-scrollx，window-scrolly" aria-hidden="true" class="header-anchor">#</a> （4）window.scrollX，window.scrollY</h4><p><code>window.scrollX</code>属性返回页面的<strong>水平滚动距离</strong>，<code>window.scrollY</code>属性返回页面的<strong>垂直滚动距离</strong>，单位都为像素。这两个属性只读。</p><ul><li>这两个属性的返回值不是整数，而是双精度浮点数</li><li>如果页面没有滚动，它们的值就是<code>0</code>。</li><li>如果用户向下拉动了垂直滚动条<code>75</code>像素，那么<code>window.scrollY</code>就是<code>75</code>左右。</li><li>如果用户水平向右拉动水平滚动条<code>200</code>像素，那么<code>window.scrollX</code>就是<code>200</code>左右。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 页面向下滚动的距离小于75像素，那么页面向下滚动75像素。</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>scrollY <span class="token operator">&lt;</span> <span class="token number">75</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">scroll</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="（5）window-pagexoffset，window-pageyoffset"><a href="#（5）window-pagexoffset，window-pageyoffset" aria-hidden="true" class="header-anchor">#</a> （5）window.pageXOffset，window.pageYOffset</h4><p><code>window.pageXOffset</code>属性和<code>window.pageYOffset</code>属性，是<code>window.scrollX</code>和<code>window.scrollY</code>别名。</p><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>pageXOffset <span class="token operator">===</span> window<span class="token punctuation">.</span>scrollX <span class="token comment">// true</span>
window<span class="token punctuation">.</span>pageYOffset <span class="token operator">===</span> window<span class="token punctuation">.</span>scrollY <span class="token comment">// true</span>
</code></pre></div><h3 id="_2-10-组件属性"><a href="#_2-10-组件属性" aria-hidden="true" class="header-anchor">#</a> 2.10 组件属性</h3><p>组件属性返回浏览器的<code>BarProp</code>组件对象：</p><ul><li>window.locationbar：地址栏对象</li><li>window.menubar：菜单栏对象</li><li>window.scrollbars：窗口的滚动条对象</li><li>window.toolbar：工具栏对象</li><li>window.statusbar：状态栏对象</li><li>window.personalbar：用户安装的个人工具栏对象</li></ul><p>这些对象的<code>visible</code>属性是一个布尔值，表示这些组件是否可见，<strong>这些属性只读</strong>。</p><h3 id="_2-11-全局对象属性"><a href="#_2-11-全局对象属性" aria-hidden="true" class="header-anchor">#</a> 2.11 全局对象属性</h3><p>全局对象属性指向一些<strong>浏览器原生的全局对象</strong>：</p><ul><li>window.document：指向<code>document</code>对象，这个属性有同源限制。只有来自同源的脚本才能读取这个属性。</li><li>window.location：指向<code>Location</code>对象，用于获取当前窗口的 <code>URL</code> 信息，等同于document.location属性。</li><li>window.navigator：指向<code>Navigator</code>对象，用于获取环境信息。</li><li>window.history：指向<code>History</code>对象，表示浏览器的浏览历史。</li><li>window.localStorage：指向本地储存的 <code>localStorage</code> 数据。</li><li>window.sessionStorage：指向本地储存的 <code>sessionStorage</code> 数据。</li><li>window.console：指向<code>console</code>对象，用于操作控制台。</li><li>window.screen：指向<code>Screen</code>对象，表示屏幕信息。</li></ul><h3 id="_2-12-window-issecurecontext"><a href="#_2-12-window-issecurecontext" aria-hidden="true" class="header-anchor">#</a> 2.12 window.isSecureContext</h3><p><code>window.isSecureContext</code>属性返回一个布尔值，表示<strong>当前窗口是否处在加密环境</strong>。
如果是 <code>HTTPS</code> 协议，就是<code>true</code>，否则就是<code>false</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 HTTPS 协议</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>isSecureContext<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="_3、window-对象的方法-♥"><a href="#_3、window-对象的方法-♥" aria-hidden="true" class="header-anchor">#</a> 3、window 对象的方法 - ♥</h2><ul><li>window.alert()，window.prompt()，window.confirm()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-1-window-alert-，window-prompt-，window-confirm">link</a></li><li>window.open(), window.close()，window.stop()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-2-window-open-window-close-，window-stop">link</a></li><li>window.moveTo()，window.moveBy() - <strong>无效</strong>：<a href="/docs/javascript-wd/BOM/2-window.html#_3-3-window-moveto-，window-moveby">link</a></li><li>window.resizeTo()，window.resizeBy()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-4-window-resizeto-，window-resizeby">link</a></li><li>window.scrollTo()，window.scroll()，window.scrollBy()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-5-window-scrollto-，window-scroll-，window-scrollby">link</a></li><li>window.print()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-6-window-print">link</a></li><li>window.focus()，window.blur()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-7-window-focus-，window-blur">link</a></li><li>window.getSelection()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-8-window-getselection">link</a></li><li>window.getComputedStyle()，window.matchMedia()：<a href="/docs/javascript-wd/BOM/2-window.html#_3-9-window-getcomputedstyle-，window-matchmedia">link</a></li><li>window.requestAnimationFrame()-♥：<a href="/docs/javascript-wd/BOM/2-window.html#_3-10-window-requestanimationframe-♥">link</a></li><li>window.requestIdleCallback()-♥：<a href="/docs/javascript-wd/BOM/2-window.html#_3-11-window-requestidlecallback-♥">link</a></li></ul><h3 id="_3-1-window-alert-，window-prompt-，window-confirm"><a href="#_3-1-window-alert-，window-prompt-，window-confirm" aria-hidden="true" class="header-anchor">#</a> 3.1 window.alert()，window.prompt()，window.confirm()</h3><p><code>window.alert()</code>、<code>window.prompt()</code>、<code>window.confirm()</code>都是浏览器与用户互动的全局方法。它们会弹出不同的对话框，要求用户做出回应。注意，这三个方法弹出的对话框，都是浏览器统一规定的式样，无法定制。</p><p>三个方法都具有堵塞效应，一旦弹出对话框，整个页面就是暂停执行，等待用户做出反应。</p><h4 id="（1）window-alert"><a href="#（1）window-alert" aria-hidden="true" class="header-anchor">#</a> （1）window.alert()</h4><p><code>window.alert()</code>方法弹出的警示对话框，只有一个“确定”按钮，往往用来通知用户某些信息。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 参数只能是字符串, 没法使用 CSS 样式, 可以用\n指定换行。</span>
window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'本条提示\n分成两行'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>用户只有点击“确定”按钮，对话框才会消失。对话框弹出期间，浏览器窗口处于冻结状态，如果不点“确定”按钮，用户什么也干不了。</p><h4 id="（2）window-prompt"><a href="#（2）window-prompt" aria-hidden="true" class="header-anchor">#</a> （2）window.prompt()</h4><p><code>window.prompt()</code>方法弹出的敏捷对话框，提示文字的下方，还有一个输入框，要求用户输入信息，并有“确定”和“取消”两个按钮。它往往用来获取用户输入的数据。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 参数一：文字提示；参数二（可选，最好提供）：输入框默认值</span>
<span class="token comment">// 返回值 - 字符串类型：确定--输入框的值；取消--null</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">'您的年龄？'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
</code></pre></div><p><code>window.prompt()</code>的返回值有两种情况，可能是字符串（有可能是空字符串），也有可能是null。具体分成三种情况：</p><ul><li>用户输入信息，并点击“确定”，则用户输入的信息就是返回值;</li><li>用户没有输入信息，直接点击“确定”，则输入框的默认值就是返回值;</li><li>用户点击了“取消”（或者按了 <code>ESC</code> 按钮），则返回值是<code>null</code>。</li></ul><h4 id="（3）window-confirm"><a href="#（3）window-confirm" aria-hidden="true" class="header-anchor">#</a> （3）window.confirm()</h4><p><code>window.confirm()</code>方法弹出的确定对话框，除了提示信息之外，只有“确定”和“取消”两个按钮，往往用来征询用户是否同意。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 返回值result - 布尔值：确定-true；取消-false</span>
<span class="token keyword">var</span> okay <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'Please confirm this message.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>okay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户按下“确定”</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// 用户按下“取消”</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>confirm</code>的一个用途是，用户离开当前页面时，弹出一个对话框，问用户是否真的要离开。即进行<strong>二次确认</strong>。</p><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'你确定要离开当面页面吗？'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-2-window-open-window-close-，window-stop"><a href="#_3-2-window-open-window-close-，window-stop" aria-hidden="true" class="header-anchor">#</a> 3.2 window.open(), window.close()，window.stop()</h3><ul><li>window.open()：<a href="/docs/javascript-wd/BOM/2-window.html#（1）window-open">link</a></li><li>window.close()：<a href="/docs/javascript-wd/BOM/2-window.html#（2）window-close">link</a></li><li>window.stop()：<a href="/docs/javascript-wd/BOM/2-window.html#（3）window-stop">link</a></li></ul><h4 id="（1）window-open"><a href="#（1）window-open" aria-hidden="true" class="header-anchor">#</a> （1）window.open()</h4><p><code>window.open</code>方法用于新建另一个浏览器窗口，类似于浏览器菜单的新建窗口选项。它会返回新窗口的引用，如果无法新建窗口，则返回<code>null</code>。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 浏览器弹出一个新建窗口，网址是当前域名下的example.html; 返回新窗口的引用：popup</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'example.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>open</code>方法一共可以接受三个参数<code>url</code>, <code>windowName</code>, <code>[windowFeatures]</code>：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// url：新窗口的网址 windowName：新窗口的名字。windowFeatures：内容为逗号分隔的键值对</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> windowName<span class="token punctuation">,</span> <span class="token punctuation">[</span>windowFeatures<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 打开的新窗口高度和宽度都为200像素, 没有地址栏，但有状态栏和滚动条，允许用户调整大小。</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
  <span class="token string">'example.html'</span><span class="token punctuation">,</span>
  <span class="token string">'DefinitionsWindows'</span><span class="token punctuation">,</span>
  <span class="token string">'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>url</code>：<strong>字符串，表示新窗口的网址。</strong><ul><li>如果省略，默认网址就是<code>about:blank</code>。</li></ul></li><li><code>windowName</code>：<strong>字符串，表示新窗口的名字。</strong><ul><li>如果该名字的窗口已经存在，则占用该窗口，不再新建窗口。</li><li>省略则使用默认值，也可以使用几个预设值:
<ul><li><code>_blank</code>(默认)表示新建一个没有名字的窗口。</li><li><code>_self</code>表示当前窗口，</li><li><code>_top</code>表示顶层窗口，</li><li><code>_parent</code>表示上一层窗口。</li></ul></li></ul></li><li><code>windowFeatures</code>：<strong>字符串，内容为逗号分隔的键值对（详见下文），表示新窗口的参数，比如有没有提示栏、工具条等等。</strong><ul><li>如果省略，则默认打开一个完整 <code>UI</code> 的新窗口。</li><li>如果新建的是一个已经存在的窗口，则该参数不起作用，浏览器沿用以前窗口的参数。</li></ul></li></ul><p><strong>第三个参数可以设定如下属性：</strong></p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 属性名与属性值之间用等号连接，属性与属性之间用逗号分隔。</span>

<span class="token comment">// 可以打开和关闭的属性，设为yes或1或不设任何值就表示打开，</span>
<span class="token comment">// 比如status=yes、status=1、status都会得到同样的结果。</span>
<span class="token comment">// 如果想设为关闭，不用写no，而是直接省略这个属性即可。</span>

<span class="token comment">// 如果在第三个参数中设置了一部分属性，其他没有被设置的yes/no属性都会被设成no，</span>
<span class="token comment">// 只有titlebar和关闭按钮除外（它们的值默认为yes）</span>
<span class="token string">'height=200,width=200,location=no,status=yes,resizable=yes,scrollbars=yes'</span>
</code></pre></div><ul><li><code>left</code>：新窗口距离屏幕最左边的距离（单位像素）。注意，新窗口必须是可见的，不能设置在屏幕以外的位置。</li><li><code>top</code>：新窗口距离屏幕最顶部的距离（单位像素）。</li><li><code>height</code>：新窗口内容区域的高度（单位像素），不得小于<code>100</code>。</li><li><code>width</code>：新窗口内容区域的宽度（单位像素），不得小于<code>100</code>。</li><li><code>outerHeight</code>：整个浏览器窗口的高度（单位像素），不得小于<code>100</code>。</li><li><code>outerWidth</code>：整个浏览器窗口的宽度（单位像素），不得小于<code>100</code>。</li><li><code>menubar</code>：是否显示菜单栏。</li><li><code>toolbar</code>：是否显示工具栏。</li><li><code>location</code>：是否显示地址栏。</li><li><code>personalbar</code>：是否显示用户自己安装的工具栏。</li><li><code>status</code>：是否显示状态栏。</li><li><code>dependent</code>：是否依赖父窗口。如果依赖，那么父窗口最小化，该窗口也最小化；父窗口关闭，该窗口也关闭。</li><li><code>minimizable</code>：是否有最小化按钮，前提是<code>dialog=yes</code>。</li><li><code>noopener</code>：新窗口将与父窗口切断联系，即新窗口的<code>window.opener</code>属性返回<code>null</code>，父窗口的<code>window.open()</code>方法也返回<code>null</code>。</li><li><code>resizable</code>：新窗口是否可以调节大小。</li><li><code>scrollbars</code>：是否允许新窗口出现滚动条。</li><li><code>dialog</code>：新窗口标题栏是否出现最大化、最小化、恢复原始大小的控件。</li><li><code>titlebar</code>：新窗口是否显示标题栏。</li><li><code>alwaysRaised</code>：是否显示在所有窗口的顶部。</li><li><code>alwaysLowered</code>：是否显示在父窗口的底下。</li><li><code>close</code>：新窗口是否显示关闭按钮。</li></ul><p><code>open()</code>方法的第二个参数虽然可以指定已经存在的窗口，但是不等于可以任意控制其他窗口。为了防止被不相干的窗口控制，浏览器只有在两个窗口同源，或者目标窗口被当前网页打开的情况下，才允许<code>open</code>方法指向该窗口。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 返回新窗口的引用</span>
<span class="token comment">// 如果新窗口和父窗口不是同源的，它们彼此不能获取对方窗口对象的内部属性。</span>
<span class="token keyword">var</span> windowB <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'example.html'</span><span class="token punctuation">,</span> <span class="token string">'WindowB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
windowB<span class="token punctuation">.</span>window<span class="token punctuation">.</span>name <span class="token comment">// &quot;WindowB&quot;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 先打开一个新窗口，然后在该窗口弹出一个对话框，再将网址导向example.com。</span>
<span class="token keyword">var</span> w <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'已经打开新窗口'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
w<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token string">'http://example.com'</span><span class="token punctuation">;</span>
</code></pre></div><p>由于<code>open</code>这个方法很容易被滥用，许多浏览器默认都不允许脚本自动新建窗口。只允许在用户点击链接或按钮时，脚本做出反应，弹出新窗口。因此，有必要检查一下打开新窗口是否成功。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 检查打开新窗口是否成功</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>popup <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 新建窗口失败</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="（2）window-close"><a href="#（2）window-close" aria-hidden="true" class="header-anchor">#</a> （2）window.close()</h4><p><code>window.close</code>方法用于关闭当前窗口，一般只用来关闭<code>window.open</code>方法新建的窗口。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 关闭popup</span>
<span class="token comment">// 只对顶层窗口有效，iframe框架之中的窗口使用该方法无效。</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'example.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
popup<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="（3）window-stop"><a href="#（3）window-stop" aria-hidden="true" class="header-anchor">#</a> （3）window.stop()</h4><p><code>window.stop()</code>方法完全等同于单击浏览器的停止按钮，会停止加载图像、视频等正在或等待加载的对象。</p><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">sopt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-3-window-moveto-，window-moveby"><a href="#_3-3-window-moveto-，window-moveby" aria-hidden="true" class="header-anchor">#</a> 3.3 window.moveTo()，window.moveBy()</h3><p>为了防止有人滥用这两个方法，随意移动用户的窗口，<strong>目前只有一种情况，浏览器允许用脚本移动窗口：该窗口是用<code>window.open()</code>方法新建的，并且窗口里只有它一个 <code>Tab</code> 页</strong>。除此以外的情况，使用上面两个方法都是无效的。</p><h4 id="window-moveto"><a href="#window-moveto" aria-hidden="true" class="header-anchor">#</a> window.moveTo()</h4><p><code>window.moveTo()</code>方法用于移动浏览器窗口到指定位置。它接受两个参数，分别是窗口左上角距离屏幕左上角的水平距离和垂直距离，单位为像素。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 窗口左上角 距离 屏幕左上角</span>
<span class="token comment">// 将窗口移动到屏幕(100, 200)的位置。</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// 水平距离, 垂直距离</span>
</code></pre></div><h4 id="window-moveby"><a href="#window-moveby" aria-hidden="true" class="header-anchor">#</a> window.moveBy()</h4><p><code>window.moveBy()</code>方法将窗口移动到一个相对位置。它接受两个参数，分别是窗口左上角向右移动的水平距离和向下移动的垂直距离，单位为像素。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 窗口左上角</span>
<span class="token comment">// 将窗口向右移动25像素、向下移动50像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// 向右移动的水平距离, 向下移动的垂直距离</span>
</code></pre></div><h3 id="_3-4-window-resizeto-，window-resizeby"><a href="#_3-4-window-resizeto-，window-resizeby" aria-hidden="true" class="header-anchor">#</a> 3.4 window.resizeTo()，window.resizeBy()</h3><p>为了防止有人滥用这两个方法，随意缩放用户的窗口，**目前只有一种情况，浏览器允许用脚本缩放窗口：该窗口是用<code>window.open()</code>方法新建的，并且窗口里只有它一个 <code>Tab</code> 页。**除此以外的情况，使用上面两个方法都是无效的。</p><h4 id="window-resizeto"><a href="#window-resizeto" aria-hidden="true" class="header-anchor">#</a> window.resizeTo()</h4><p><code>window.resizeTo()</code>方法用于缩放窗口到指定大小。它接受两个参数：</p><ul><li>第一个是缩放后的窗口宽度（<code>outerWidth</code>属性，包含滚动条、标题栏等等）</li><li>第二个是缩放后的窗口高度（<code>outerHeight</code>属性）</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将当前窗口缩放到，屏幕可用区域的一半宽度和高度。</span>
<span class="token comment">// window.screen.availWidth === window.outerWidth </span>
<span class="token comment">// swindow.screen.availHeight === window.outerHeight</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span>
  window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 缩放后的窗口宽度 </span>
  window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availHeight <span class="token operator">/</span> <span class="token number">2</span> <span class="token comment">// 缩放后的窗口高度</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="window-resizeby"><a href="#window-resizeby" aria-hidden="true" class="header-anchor">#</a> window.resizeBy()</h4><p><code>window.resizeBy()</code>方法用于缩放窗口。它与<code>window.resizeTo()</code>的区别是，它按照相对的量缩放，<code>window.resizeTo()</code>需要给出缩放后的绝对大小。它接受两个参数：</p><ul><li>第一个是水平缩放的量</li><li>第二个是垂直缩放的量</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将当前窗口的宽度和高度，都缩小200像素。</span>
window<span class="token punctuation">.</span><span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">200</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-5-window-scrollto-，window-scroll-，window-scrollby"><a href="#_3-5-window-scrollto-，window-scroll-，window-scrollby" aria-hidden="true" class="header-anchor">#</a> 3.5 window.scrollTo()，window.scroll()，window.scrollBy()</h3><h4 id="window-scrollto-window-scroll的别名"><a href="#window-scrollto-window-scroll的别名" aria-hidden="true" class="header-anchor">#</a> window.scrollTo() - window.scroll的别名</h4><p><code>window.scrollTo</code>方法用于将文档滚动到指定位置。它接受两个参数，表示滚动后位于窗口左上角的页面坐标。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将文档滚动到指定位置</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>x<span class="token operator">-</span>coord<span class="token punctuation">,</span> y<span class="token operator">-</span>coord<span class="token punctuation">)</span> <span class="token comment">// 水平距离 垂直距离</span>
</code></pre></div><p>它也可以接受一个配置对象作为参数，配置对象<code>options</code>有三个属性：</p><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>

window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  top<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 正数-向下滚，0-回到顶部</span>
  left<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token comment">// 0 回到最左边</span>
  behavior<span class="token punctuation">:</span> <span class="token string">'smooth'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>top</code>：滚动后页面左上角的垂直坐标，即 <code>y</code> 坐标。</li><li><code>left</code>：滚动后页面左上角的水平坐标，即 <code>x</code> 坐标。</li><li><code>behavior</code>：字符串，表示滚动的方式，有三个可能值（<code>smooth</code>、<code>instant</code>、<code>auto</code>），默认值为<code>auto</code>。</li></ul><h4 id="window-scrollby"><a href="#window-scrollby" aria-hidden="true" class="header-anchor">#</a> window.scrollBy()</h4><p><code>window.scrollBy()</code>方法用于将网页滚动指定距离（单位像素）。它接受两个参数：水平向右滚动的像素，垂直向下滚动的像素。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将网页向下滚动一屏</span>
window<span class="token punctuation">.</span><span class="token function">scrollBy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span>
</code></pre></div><p>如果不是要滚动整个文档，而是要滚动某个元素，可以使用下面三个属性和方法。</p><ul><li><code>Element.scrollTop</code></li><li><code>Element.scrollLeft</code></li><li><code>Element.scrollIntoView()</code></li></ul><h3 id="_3-6-window-print"><a href="#_3-6-window-print" aria-hidden="true" class="header-anchor">#</a> 3.6 window.print()</h3><p><code>window.print</code>方法会跳出打印对话框，与用户点击菜单里面的“打印”命令效果相同。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 打印按钮</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'printLink'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>非桌面设备（比如手机）可能没有打印功能，这时可以这样判断。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>print <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 支持打印功能</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-7-window-focus-，window-blur"><a href="#_3-7-window-focus-，window-blur" aria-hidden="true" class="header-anchor">#</a> 3.7 window.focus()，window.blur()</h3><p><code>window.focus()</code>方法会激活窗口，使其获得焦点，出现在其他窗口的前面。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 先检查popup窗口是否依然存在，确认后激活该窗口。</span>
<span class="token keyword">var</span> popup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'example.html'</span><span class="token punctuation">,</span> <span class="token string">'Popup Window'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>popup <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>popup<span class="token punctuation">.</span>closed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  popup<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 由当前窗口切换到example.html</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>window.blur()</code>方法将焦点从窗口移除。</p><p>当前窗口获得焦点时，会触发<code>focus</code>事件；当前窗口失去焦点时，会触发<code>blur</code>事件。</p><h3 id="_3-8-window-getselection"><a href="#_3-8-window-getselection" aria-hidden="true" class="header-anchor">#</a> 3.8 window.getSelection()</h3><p><code>window.getSelection</code>方法返回一个<code>Selection</code>对象，表示用户现在选中的文本。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 用户现在选中的文本</span>
<span class="token keyword">var</span> selObj <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得选中的文本</span>
<span class="token keyword">var</span> selectedText <span class="token operator">=</span> selObj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><div><div class="img-slot"><img src="/docs/assets/img/getSelection.feefed36.png"></div></div></p><h3 id="_3-9-window-getcomputedstyle-，window-matchmedia"><a href="#_3-9-window-getcomputedstyle-，window-matchmedia" aria-hidden="true" class="header-anchor">#</a> 3.9 window.getComputedStyle()，window.matchMedia()</h3><ul><li><code>window.getComputedStyle()</code>方法接受一个元素节点作为参数，返回一个包含该元素的最终样式信息的对象。</li><li><code>window.matchMedia()</code>方法用来检查 <code>CSS</code> 的<code>mediaQuery</code>语句。</li></ul><h3 id="_3-10-window-requestanimationframe-♥"><a href="#_3-10-window-requestanimationframe-♥" aria-hidden="true" class="header-anchor">#</a> 3.10 window.requestAnimationFrame() - ♥</h3><p><code>tag - 性能优化</code></p><p><strong>如果某个函数会改变网页的布局，一般就放在<code>window.requestAnimationFrame()</code>里面执行</strong>，这样可以节省系统资源，使得网页效果更加平滑。因为慢速设备会用较慢的速率重流和重绘，而速度更快的设备会有更快的速率。</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Performance" target="_blank" rel="noopener noreferrer">Performance<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 接口可以获取到当前页面中与性能相关的信息</li><li><code>Performance.now()</code>返回一个表示从性能测量时刻开始经过的毫秒数</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 接受一个回调函数作为参数</span>
<span class="token comment">// callback执行时，它的参数就是系统传入的一个高精度时间戳（performance.now()的返回值），</span>
<span class="token comment">// 单位是毫秒，表示距离网页加载的时间。</span>
window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>

<span class="token comment">// 返回值是一个整数，这个整数可以传入window.cancelAnimationFrame()，</span>
<span class="token comment">// 用来取消回调函数的执行。</span>
</code></pre></div><ul><li><code>window.requestAnimationFrame()</code>方法跟<code>setTimeout</code>类似，都是推迟某个函数的执行。</li><li>不同之处在于，<code>setTimeout</code>必须指定推迟的时间，<code>window.requestAnimationFrame()</code>则是推迟到浏览器下一次重流时执行，执行完才会进行下一次重绘。</li><li>重绘通常是 <code>16ms</code> 执行一次，不过浏览器会自动调节这个速率，比如网页切换到后台 <code>Tab</code> 页时，<code>requestAnimationFrame()</code>会暂停执行。</li></ul><p><strong>下面是一个<code>window.requestAnimationFrame()</code>执行网页动画的例子。</strong></p><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 定义了一个网页动画，持续时间是2秒，会让元素向右移动。 --&gt;</span>
<span class="token comment">&lt;!-- 移动距离，不能超过`200px` --&gt;</span>
<span class="token comment">&lt;!-- 移动时间，不能超过 `2` 秒 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>animate<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#animate'</span><span class="token punctuation">)</span>
  element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">function</span> <span class="token function">step</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// timestamp: 系统传入的一个高精度时间戳（performance.now()的返回值，毫秒数）</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>start<span class="token punctuation">)</span> start <span class="token operator">=</span> timestamp
    <span class="token keyword">let</span> progress <span class="token operator">=</span> timestamp <span class="token operator">-</span> start
    <span class="token comment">// 元素不断向左移，最大不超过200像素</span>
    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>progress<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果距离第一次执行不超过 2 秒，继续执行动画</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>progress<span class="token operator">&lt;</span><span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// step执行时，它的参数就是系统传入的一个高精度时间戳（performance.now()的返回值），</span>
      window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_3-11-window-requestidlecallback-♥"><a href="#_3-11-window-requestidlecallback-♥" aria-hidden="true" class="header-anchor">#</a> 3.11 window.requestIdleCallback() - ♥</h3><p><code>tag - 性能优化</code></p><p><code>window.requestIdleCallback()</code>跟<code>setTimeout</code>类似，也是将某个函数推迟执行，但是它<strong>保证将回调函数推迟到系统资源空闲时执行</strong>，如果某个任务不是很关键，就可以使用<code>window.requestIdleCallback()</code>将其推迟执行，以保证网页性能。</p><p>该方法接受一个回调函数和一个配置对象作为参数。配置对象可以指定一个推迟执行的最长时间，如果过了这个时间，回调函数不管系统资源有无空闲，都会执行。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// callback执行时，系统会传入一个IdleDeadline对象作为参数</span>
window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span><span class="token punctuation">,</span> options<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 返回一个整数, 该整数可以传入`window.cancelIdleCallback()`取消回调函数</span>
</code></pre></div><ul><li><code>callback</code>参数是一个回调函数。该回调函数执行时，系统会传入一个<code>IdleDeadline</code>对象作为参数。</li><li><code>IdleDeadline</code>对象有一个<code>didTimeout</code>属性（布尔值，表示是否为超时调用）和一个<code>timeRemaining()</code>方法（返回该空闲时段剩余的毫秒数）。</li><li><code>options</code>参数是一个配置对象，目前只有<code>timeout</code>一个属性，用来指定回调函数推迟执行的最大毫秒数。该参数可选。</li><li><code>window.requestIdleCallback()</code>方法返回一个整数。该整数可以传入<code>window.cancelIdleCallback()</code>取消回调函数。</li></ul><h4 id="跟-window-requestanimationframe-的区别"><a href="#跟-window-requestanimationframe-的区别" aria-hidden="true" class="header-anchor">#</a> 跟 window.requestAnimationFrame() 的区别</h4><ul><li>后者指定回调函数在下一次浏览器重排时执行；</li><li>问题在于下一次重排时，系统资源未必空闲，不一定能保证在<code>16</code>毫秒之内完成；</li><li><code>window.requestIdleCallback()</code>可以保证回调函数在系统资源空闲时执行。</li></ul><h4 id="例子"><a href="#例子" aria-hidden="true" class="header-anchor">#</a> 例子</h4><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// requestIdleCallback()用来执行非关键任务myNonEssentialWork</span>
<span class="token comment">// 该任务先确认本次空闲时段有剩余时间，然后才真正开始执行任务。</span>
<span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>myNonEssentialWork<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">myNonEssentialWork</span><span class="token punctuation">(</span>deadline<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果由于超时导致回调函数执行，则deadline.timeRemaining()返回0，</span>
  <span class="token comment">// deadline.didTimeout返回true</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>deadline<span class="token punctuation">.</span><span class="token function">timeRemaining</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">doWorkIfNeeded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// processPendingAnalyticsEvents必须在未来2秒之内执行。</span>
<span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>processPendingAnalyticsEvents<span class="token punctuation">,</span> <span class="token punctuation">{</span> timeout<span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果多次执行<code>window.requestIdleCallback()</code>，指定多个回调函数，那么这些回调函数将排成一个队列，按照先进先出的顺序执行。</p><h2 id="_4、事件"><a href="#_4、事件" aria-hidden="true" class="header-anchor">#</a> 4、事件</h2><ul><li>load 事件和 onload 属性：<a href="/docs/javascript-wd/BOM/2-window.html#_4-1-load-事件和-onload-属性">link</a></li><li>error 事件和 onerror 属性：<a href="/docs/javascript-wd/BOM/2-window.html#_4-2-error-事件和-onerror-属性">link</a></li><li>window 对象的事件监听属性：<a href="/docs/javascript-wd/BOM/2-window.html#_4-3-window-对象的事件监听属性">link</a></li></ul><h3 id="_4-1-load-事件和-onload-属性"><a href="#_4-1-load-事件和-onload-属性" aria-hidden="true" class="header-anchor">#</a> 4.1 load 事件和 onload 属性</h3><p><code>load</code>事件发生在文档在浏览器窗口加载完毕时。<code>window.onload</code>属性可以指定这个事件的回调函数。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在网页加载完毕后，获取指定元素并进行处理。</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.example'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> elt <span class="token operator">=</span> elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-2-error-事件和-onerror-属性"><a href="#_4-2-error-事件和-onerror-属性" aria-hidden="true" class="header-anchor">#</a> 4.2 error 事件和 onerror 属性</h3><p>浏览器脚本发生错误时，会触发<code>window</code>对象的<code>error</code>事件。我们可以通过<code>window.onerror</code>属性对该事件指定回调函数。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 脚本报错时触发</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>message<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> lineno<span class="token punctuation">,</span> colno<span class="token punctuation">,</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;出错了！--&gt; %s&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>由于历史原因，<code>window</code>的<code>error</code>事件的回调函数不接受错误对象作为参数，而是一共可以接受五个参数，它们的含义依次如下。老式浏览器只支持前三个参数。</p><ul><li><code>message</code>: 出错信息</li><li><code>filename</code>: 出错脚本的网址</li><li><code>lineno</code>: 行号</li><li><code>colno</code>: 列号</li><li><code>error</code>: 错误对象</li></ul><p>并不是所有的错误，都会触发 <code>JavaScript</code> 的<code>error</code>事件（即让 <code>JavaScript</code> 报错）。一般来说，只有 <code>JavaScript</code> 脚本的错误，才会触发这个事件，而像资源文件不存在之类的错误，都不会触发。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 如果整个页面未捕获错误超过3个，就显示警告。</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> url<span class="token punctuation">,</span> line<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>onerror<span class="token punctuation">.</span>num<span class="token operator">++</span> <span class="token operator">&gt;</span> onerror<span class="token punctuation">.</span>max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'ERROR: '</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">'\n'</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> line<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
onerror<span class="token punctuation">.</span>max <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
onerror<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><p>如果脚本网址与网页网址不在同一个域（比如使用了 <code>CDN</code>），浏览器根本不会提供详细的出错信息，只会提示出错，错误类型是“<code>Script error.</code>”，行号为<code>0</code>，其他信息都没有。这是浏览器防止向外部脚本泄漏信息。一个解决方法是在脚本所在的服务器，设置<code>Access-Control-Allow-Origin</code>的 <code>HTTP</code> 头信息：</p><div class="language-json extra-class"><pre class="language-json"><code>Access-Control-Allow-Origin<span class="token operator">:</span> *
</code></pre></div><p>然后，在网页的<code>&lt;script&gt;</code>标签中设置<code>crossorigin</code>属性。</p><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- crossorigin=&quot;anonymous&quot;表示，读取文件不需要身份信息，即不需要 cookie 和 HTTP 认证信息 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>anonymous<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//example.com/file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 浏览器会上传 cookie 和 HTTP 认证信息，同时还需要服务器端打开 
HTTP 头信息Access-Control-Allow-Credentials --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>use-credentials<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>//example.com/file.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-3-window-对象的事件监听属性"><a href="#_4-3-window-对象的事件监听属性" aria-hidden="true" class="header-anchor">#</a> 4.3 window 对象的事件监听属性</h3><p>除了具备元素节点都有的 <code>GlobalEventHandlers</code> 接口，<code>window</code>对象还具有以下的事件监听函数属性。</p><ul><li><code>window.onafterprint</code>：afterprint事件的监听函数。</li><li><code>window.onbeforeprint</code>：beforeprint事件的监听函数。</li><li><code>window.onbeforeunload</code>：beforeunload事件的监听函数。</li><li><code>window.onhashchange</code>：hashchange事件的监听函数。</li><li><code>window.onlanguagechange</code>: languagechange的监听函数。</li><li><code>window.onmessage</code>：message事件的监听函数。</li><li><code>window.onmessageerror</code>：MessageError事件的监听函数。</li><li><code>window.onoffline</code>：offline事件的监听函数。</li><li><code>window.ononline</code>：online事件的监听函数。</li><li><code>window.onpagehide</code>：pagehide事件的监听函数。</li><li><code>window.onpageshow</code>：pageshow事件的监听函数。</li><li><code>window.onpopstate</code>：popstate事件的监听函数。</li><li><code>window.onstorage</code>：storage事件的监听函数。</li><li><code>window.onunhandledrejection</code>：未处理的 Promise 对象的reject事件的监听函数。</li><li><code>window.onunload</code>：unload事件的监听函数。</li></ul><h2 id="_5、多窗口操作"><a href="#_5、多窗口操作" aria-hidden="true" class="header-anchor">#</a> 5、多窗口操作</h2><ul><li>窗口的引用：<a href="/docs/javascript-wd/BOM/2-window.html#_5-1-窗口的引用">link</a></li><li>iframe 元素：<a href="/docs/javascript-wd/BOM/2-window.html#_5-2-iframe-元素">link</a></li><li>window.frames 属性：<a href="/docs/javascript-wd/BOM/2-window.html#_5-3-window-frames-属性">link</a></li></ul><p>由于网页可以使用<code>iframe</code>元素，嵌入其他网页，因此一个网页之中会形成多个窗口。如果子窗口之中又嵌入别的网页，就会形成多级窗口。</p><h3 id="_5-1-窗口的引用"><a href="#_5-1-窗口的引用" aria-hidden="true" class="header-anchor">#</a> 5.1 窗口的引用</h3><p>各个窗口之中的脚本，可以引用其他窗口，多窗口之间的脚本是共享的。浏览器提供了一些特殊变量，用来返回其他窗口。</p><ul><li><code>top</code>：顶层窗口，即最上层的那个窗口</li><li><code>parent</code>：父窗口</li><li><code>self</code>：当前窗口，即自身</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 判断当前窗口是否为顶层窗口。</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>top <span class="token operator">===</span> window<span class="token punctuation">.</span>self<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前窗口是顶层窗口</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前窗口是子窗口</span>
<span class="token punctuation">}</span>

<span class="token comment">// 让父窗口的访问历史后退一次</span>
window<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 在顶层窗口打开链接。 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>example.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>_top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><code>_top</code>：顶层窗口</li><li><code>_parent</code>：父窗口</li><li><code>_blank</code>：新窗口</li></ul><h3 id="_5-2-iframe-元素"><a href="#_5-2-iframe-元素" aria-hidden="true" class="header-anchor">#</a> 5.2 iframe 元素</h3><p>对于<code>iframe</code>嵌入的窗口，拿到该窗口的 <code>DOM</code> 节点，然后使用<code>contentWindow</code>属性获得<code>iframe</code>节点包含的<code>window</code>对象和<code>document</code>对象。</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// frame.contentWindow可以拿到子窗口的window对象</span>
<span class="token keyword">var</span> frame <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#theFrame'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> frameWindow <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>

<span class="token comment">// 拿到子窗口的document对象</span>
<span class="token keyword">var</span> frameDoc <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentDocument<span class="token punctuation">;</span> 
<span class="token comment">// 等同于</span>
<span class="token keyword">var</span> frameDoc <span class="token operator">=</span> frame<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document<span class="token punctuation">;</span>

<span class="token comment">// 同源情况下, 读取子窗口内部的属性，比如子窗口标题</span>
frameWindow<span class="token punctuation">.</span>title

<span class="token comment">// 判断当前窗口是否为iframe窗口</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>parent <span class="token operator">!==</span> window<span class="token punctuation">.</span>self<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前窗口是子窗口</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>&lt;iframe&gt;</code>元素遵守同源政策，只有当父窗口与子窗口在同一个域时，两者之间才可以用脚本通信，否则只有使用<code>window.postMessage</code>方法。</li><li><code>&lt;iframe&gt;</code>窗口的<code>window</code>对象，有一个<code>frameElement</code>属性，返回<code>&lt;iframe&gt;</code>在父窗口中的 <code>DOM</code> 节点。对于非嵌入的窗口，该属性等于<code>null</code>。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> f1Element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f1Window <span class="token operator">=</span> f1Element<span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>

f1Window<span class="token punctuation">.</span>frameElement <span class="token operator">===</span> f1Element <span class="token comment">// true</span>
window<span class="token punctuation">.</span>frameElement <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true</span>

<span class="token keyword">var</span> frameEl <span class="token operator">=</span> window<span class="token punctuation">.</span>frameElement<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> frameEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>top<span class="token punctuation">,</span> window<span class="token punctuation">.</span>parent<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>frameEl<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  frameEl<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'other.html'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-3-window-frames-属性"><a href="#_5-3-window-frames-属性" aria-hidden="true" class="header-anchor">#</a> 5.3 window.frames 属性</h3><p><code>window.frames</code>属性返回一个类似数组的对象，成员是所有子窗口的<code>window</code>对象。可以使用这个属性，实现窗口之间的互相引用。比如，<code>frames[0]</code>返回第一个子窗口，<code>frames[1].frames[2]</code>返回第二个子窗口内部的第三个子窗口，<code>parent.frames[1]</code>返回父窗口的第二个子窗口。</p><p>-<code>window.frames</code>每个成员的值，是框架内的窗口（即框架的<code>window</code>对象），而不是<code>iframe</code>标签在父窗口的 <code>DOM</code> 节点。如果要获取每个框架内部的 <code>DOM</code> 树，需要使用<code>window.frames[0].document</code>的写法。</p><ul><li>如果<code>&lt;iframe&gt;</code>元素设置了<code>name</code>或<code>id</code>属性，那么属性值会自动成为全局变量，并且可以通过<code>window.frames</code>属性引用，返回子窗口的<code>window</code>对象。</li><li><code>name</code>属性的值会自动成为子窗口的名称，可以用在<code>window.open</code>方法的第二个参数，或者<code>&lt;a&gt;</code>和<code>&lt;frame&gt;</code>标签的<code>target</code>属性。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// HTML 代码为 &lt;iframe id=&quot;myFrame&quot;&gt;</span>
window<span class="token punctuation">.</span>myFrame <span class="token comment">// [HTMLIFrameElement]</span>
frames<span class="token punctuation">.</span>myframe <span class="token operator">===</span> myFrame <span class="token comment">// true</span>
</code></pre></div></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/javascript-wd/BOM/1-intro.html" class="prev">
          第1节 浏览器模型概述 - ♥
        </a></span><span class="next"><a href="/docs/javascript-wd/BOM/3-ns.html">
          第3节 Navigator 对象，Screen 对象
        </a> →
      </span></p></div></div></div></div>
    <script src="/docs/assets/js/75.50d34247.js" defer></script><script src="/docs/assets/js/221.2383e08f.js" defer></script><script src="/docs/assets/js/app.acf4c017.js" defer></script>
  </body>
</html>
