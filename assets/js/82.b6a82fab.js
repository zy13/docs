(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{338:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("p",[a("a",{attrs:{href:"https://www.wangdoc.com/javascript/bom/location.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Location 对象，URL 对象，URLSearchParams 对象"),a("OutboundLink")],1)]),t._m(0),t._m(1),a("ul",[a("li",[t._v("属性："),a("router-link",{attrs:{to:"./10-luu.html#_1-1-属性"}},[t._v("link")])],1),a("li",[t._v("方法："),a("router-link",{attrs:{to:"./10-luu.html#_1-2-方法"}},[t._v("link")])],1)]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),a("p",[t._v("它接受一个布尔值作为参数：")]),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),a("ul",[a("li",[t._v("encodeURI()："),a("router-link",{attrs:{to:"./10-luu.html#_2-1-encodeuri"}},[t._v("link")])],1),a("li",[t._v("encodeURIComponent()："),a("router-link",{attrs:{to:"./10-luu.html#_2-2-encodeuricomponent"}},[t._v("link")])],1),a("li",[t._v("decodeURI()："),a("router-link",{attrs:{to:"./10-luu.html#_2-3-decodeuri"}},[t._v("link")])],1),a("li",[t._v("decodeURIComponent()："),a("router-link",{attrs:{to:"./10-luu.html#_2-4-decodeuricomponent"}},[t._v("link")])],1)]),t._m(27),a("p",[t._v("除了合法字符，其他字符出现在 · 之中都必须转义，规则是根据操作系统的默认编码，将每个字节转为百分号（·）加上两个大写的十六进制字母。")]),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),t._m(37),t._m(38),t._m(39),t._m(40),t._m(41),t._m(42),t._m(43),t._m(44),a("ul",[a("li",[t._v("构造函数："),a("router-link",{attrs:{to:"./10-luu.html#_3-1-构造函数"}},[t._v("link")])],1),a("li",[t._v("实例属性："),a("router-link",{attrs:{to:"./10-luu.html#_3-2-实例属性"}},[t._v("link")])],1),a("li",[t._v("静态方法："),a("router-link",{attrs:{to:"./10-luu.html#_3-3-静态方法"}},[t._v("link")])],1)]),t._m(45),t._m(46),t._m(47),t._m(48),t._m(49),t._m(50),t._m(51),t._m(52),t._m(53),t._m(54),t._m(55),t._m(56),t._m(57),t._m(58),t._m(59),t._m(60),t._m(61),t._m(62),t._m(63),t._m(64),t._m(65),a("ul",[a("li",[t._v("概述："),a("router-link",{attrs:{to:"./10-luu.html#_4-1-概述"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.toString()："),a("router-link",{attrs:{to:"./10-luu.html#_4-2-urlsearchparams-tostring"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.append()："),a("router-link",{attrs:{to:"./10-luu.html#_4-3-urlsearchparams-append"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.delete()："),a("router-link",{attrs:{to:"./10-luu.html#_4-4-urlsearchparams-delete"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.has()："),a("router-link",{attrs:{to:"./10-luu.html#_4-5-urlsearchparams-has"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.set()："),a("router-link",{attrs:{to:"./10-luu.html#_4-6-urlsearchparams-set"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.get()，URLSearchParams.getAll()："),a("router-link",{attrs:{to:"./10-luu.html#_4-7-urlsearchparams-get-，urlsearchparams-getall"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.sort()："),a("router-link",{attrs:{to:"./10-luu.html#_4-8-urlsearchparams-sort"}},[t._v("link")])],1),a("li",[t._v("URLSearchParams.keys()，URLSearchParams.values()，URLSearchParams.entries()："),a("router-link",{attrs:{to:"./10-luu.html#_4-9-urlsearchparams-keys-，urlsearchparams-values-，urlsearchparams-entries"}},[t._v("link")])],1)]),t._m(66),t._m(67),t._m(68),t._m(69),t._m(70),t._m(71),t._m(72),t._m(73),t._m(74),t._m(75),t._m(76),t._m(77),t._m(78),a("p",[t._v("那么需要字符串的场合，会自动调用toString方法。")]),t._m(79),t._m(80),t._m(81),t._m(82),t._m(83),t._m(84),t._m(85),t._m(86),t._m(87),t._m(88),t._m(89),t._m(90),t._m(91),t._m(92),t._m(93),t._m(94),t._m(95),t._m(96),t._m(97),t._m(98),t._m(99),t._m(100),t._m(101),t._m(102),t._m(103),t._m(104),a("p",[t._v("该方法没有返回值，或者说返回值是undefined。")]),t._m(105),t._m(106),t._m(107),t._m(108),t._m(109),t._m(110),t._m(111)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("URL")]),this._v(" 是互联网的基础设施之一。浏览器提供了一些原生对象，用来管理 "),s("code",[this._v("URL")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1、location-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、location-对象","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、Location 对象")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("Location")]),t._v("对象是浏览器提供的原生对象，提供 "),a("code",[t._v("URL")]),t._v(" 相关的信息和操作方法。通过"),a("code",[t._v("window.location")]),t._v("和"),a("code",[t._v("document.location")]),t._v("属性，可以拿到这个对象。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-1-属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.1 属性")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("Location")]),t._v("对象提供以下属性。这些属性里面，只有"),a("code",[t._v("origin")]),t._v("属性是只读的，其他属性都可写。另外，"),a("code",[t._v("Location.href")]),t._v("属性是"),a("strong",[t._v("浏览器唯一允许跨域写入的属性")]),t._v("，即非同源的窗口可以改写另一个窗口（比如子窗口与父窗口）的"),a("code",[t._v("Location.href")]),t._v("属性，导致后者的网址跳转。"),a("code",[t._v("Location")]),t._v("的其他属性都不允许跨域写入。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("location.href")]),t._v("：整个 "),a("code",[t._v("URL")]),t._v("。")]),a("li",[a("strong",[t._v("location.protocol")]),t._v("：当前 "),a("code",[t._v("URL")]),t._v(" 的协议，包括冒号（:）。")]),a("li",[a("strong",[t._v("location.host")]),t._v("：主机。如果端口不是协议默认的"),a("code",[t._v("80")]),t._v("和"),a("code",[t._v("433")]),t._v("，则还会包括冒号（"),a("code",[t._v(":")]),t._v("）和端口。")]),a("li",[a("strong",[t._v("location.hostname")]),t._v("：主机名，不包括端口。")]),a("li",[a("strong",[t._v("location.port")]),t._v("：端口号。")]),a("li",[a("strong",[t._v("location.pathname")]),t._v("："),a("code",[t._v("URL")]),t._v(" 的路径部分，从根路径"),a("code",[t._v("/")]),t._v("开始，不包括锚点。")]),a("li",[a("strong",[t._v("location.search")]),t._v("：查询字符串部分，从问号"),a("code",[t._v("?")]),t._v("开始。")]),a("li",[a("strong",[t._v("location.hash")]),t._v("：片段字符串部分，从"),a("code",[t._v("#")]),t._v("开始。")]),a("li",[a("strong",[t._v("location.username")]),t._v("：域名前面的用户名。")]),a("li",[a("strong",[t._v("location.password")]),t._v("：域名前面的密码。")]),a("li",[a("strong",[t._v("location.origin")]),t._v("："),a("code",[t._v("URL")]),t._v(" 的协议、主机名和端口。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 当前网址为")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// http://user:passwd@www.example.com:4097/path/a.html?x=111#part1")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://user:passwd@www.example.com:4097/path/a.html?x=111#part1"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http:"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "www.example.com:4097"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "www.example.com"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "4097"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "/path/a.html"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "?x=111"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "#part1"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "user"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "passwd"')]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://user:passwd@www.example.com:4097"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意，如果对Location.href写入新的 URL 地址，浏览器会立刻跳转到这个新地址。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 跳转到新网址")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 这个特性常常用于让网页自动滚动到新的锚点。")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#top'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 等同于 document.location.hash = '#top';")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("直接改写"),s("code",[this._v("location")]),this._v("，相当于写入"),s("code",[this._v("href")]),this._v("属性。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 等同于")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_1-2-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.2 方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"（1）location-assign"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（1）location-assign","aria-hidden":"true"}},[this._v("#")]),this._v(" （1）Location.assign()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("assign")]),t._v("方法接受一个 "),a("code",[t._v("URL")]),t._v(" 字符串作为参数，使得浏览器立刻跳转到新的 "),a("code",[t._v("URL")]),t._v("。如果参数不是有效的 "),a("code",[t._v("URL")]),t._v(" 字符串，则会报错。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 跳转到新的网址")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("assign")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"（2）location-replace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（2）location-replace","aria-hidden":"true"}},[this._v("#")]),this._v(" （2）Location.replace()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("replace")]),t._v("方法接受一个 "),a("code",[t._v("URL")]),t._v(" 字符串作为参数，使得浏览器立刻跳转到新的 "),a("code",[t._v("URL")]),t._v("。如果参数不是有效的 "),a("code",[t._v("URL")]),t._v(" 字符串，则会报错。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("它与"),a("code",[t._v("assign")]),t._v("方法的差异在于，"),a("code",[t._v("replace")]),t._v("会在浏览器的浏览历史"),a("code",[t._v("History")]),t._v("里面删除当前网址，也就是说，一旦使用了该方法，后退按钮就无法回到当前网页了，相当于在浏览历史里面，使用新的 "),a("code",[t._v("URL")]),t._v(" 替换了老的 "),a("code",[t._v("URL")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("它的一个应用是，当脚本发现当前是移动设备时，就立刻跳转到移动版网页。")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 跳转到新的网址")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("replace")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"（3）location-reload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（3）location-reload","aria-hidden":"true"}},[this._v("#")]),this._v(" （3）Location.reload()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("reload")]),this._v("方法使得浏览器重新加载当前网址，相当于按下浏览器的刷新按钮。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("如果参数为"),a("code",[t._v("true")]),t._v("，浏览器将向服务器重新请求这个网页，并且重新加载后，网页将滚动到头部（即"),a("code",[t._v("scrollTop === 0")]),t._v("）。")]),a("li",[t._v("如果参数是"),a("code",[t._v("false")]),t._v("或为"),a("code",[t._v("空")]),t._v("，浏览器将从本地缓存重新加载该网页，并且重新加载后，网页的视口位置是重新加载前的位置。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 向服务器重新请求当前网址")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("reload")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"（4）location-tostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（4）location-tostring","aria-hidden":"true"}},[this._v("#")]),this._v(" （4）Location.toString()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("toString")]),this._v("方法返回整个 "),s("code",[this._v("URL")]),this._v(" 字符串，相当于读取"),s("code",[this._v("Location.href")]),this._v("属性。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2、url-的编码和解码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、url-的编码和解码","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、URL 的编码和解码")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"url的合法字符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url的合法字符","aria-hidden":"true"}},[this._v("#")]),this._v(" URL的合法字符")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("比如，"),a("code",[t._v("UTF-8")]),t._v(" 的操作系统上，"),a("code",[t._v("http://www.example.com/q=春节")]),t._v("这个 "),a("code",[t._v("URL")]),t._v(" 之中，汉字“春节”不是 "),a("code",[t._v("URL")]),t._v(" 的合法字符，所以被浏览器自动转成"),a("code",[t._v("http://www.example.com/q=%E6%98%A5%E8%8A%82")]),t._v("。其中，“春”转成了"),a("code",[t._v("%E6%98%A5")]),t._v("，“节”转成了"),a("code",[t._v("%E8%8A%82")]),t._v("。这是因为“春”和“节”的 "),a("code",[t._v("UTF-8")]),t._v(" 编码分别是"),a("code",[t._v("E6 98 A5")]),t._v("和"),a("code",[t._v("E8 8A 82")]),t._v("，将每个字节前面加上百分号，就构成了 "),a("code",[t._v("URL")]),t._v(" 编码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("网页的 "),s("code",[this._v("URL")]),this._v(" 只能包含合法的字符。合法字符分成两类：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("strong",[t._v("URL 元字符")]),t._v("：\n"),a("ul",[a("li",[t._v("分号（"),a("code",[t._v(";")]),t._v("），")]),a("li",[t._v("逗号（"),a("code",[t._v(",")]),t._v("），")]),a("li",[t._v("斜杠（"),a("code",[t._v("/")]),t._v("），")]),a("li",[t._v("问号（"),a("code",[t._v("?")]),t._v("），")]),a("li",[t._v("冒号（"),a("code",[t._v(":")]),t._v("），")]),a("li",[t._v("at（"),a("code",[t._v("@")]),t._v("），")]),a("li",[a("code",[t._v("&")]),t._v("，")]),a("li",[t._v("等号（"),a("code",[t._v("=")]),t._v("），")]),a("li",[t._v("加号（"),a("code",[t._v("+")]),t._v("），")]),a("li",[t._v("美元符号（"),a("code",[t._v("$")]),t._v("），")]),a("li",[t._v("井号（"),a("code",[t._v("#")]),t._v("）")])])]),a("li",[a("strong",[t._v("语义字符")]),t._v("：\n"),a("ul",[a("li",[a("code",[t._v("a-z")]),t._v("，"),a("code",[t._v("A-Z")]),t._v("，"),a("code",[t._v("0-9")]),t._v("，")]),a("li",[t._v("连词号（"),a("code",[t._v("-")]),t._v("），")]),a("li",[t._v("下划线（"),a("code",[t._v("_")]),t._v("），")]),a("li",[t._v("点（"),a("code",[t._v(".")]),t._v("），")]),a("li",[t._v("感叹号（"),a("code",[t._v("!")]),t._v("），")]),a("li",[t._v("波浪线（"),a("code",[t._v("~")]),t._v("），")]),a("li",[t._v("星号（"),a("code",[t._v("*")]),t._v("），")]),a("li",[t._v("单引号（`），")]),a("li",[t._v("圆括号（"),a("code",[t._v("()")]),t._v("）")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-1-encodeuri"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-encodeuri","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.1 encodeURI()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("encodeURI()")]),this._v("方法用于转码整个 "),s("code",[this._v("URL")]),this._v("。它的参数是一个字符串，代表整个 "),s("code",[this._v("URL")]),this._v("。它会将元字符和语义字符之外的字符，都进行转义。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("encodeURI")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token string"}},[this._v("'http://www.example.com/q=春节'")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n"),s("span",{attrs:{class:"token comment"}},[this._v('// "http://www.example.com/q=%E6%98%A5%E8%8A%82"')]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-2-encodeuricomponent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-encodeuricomponent","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.2 encodeURIComponent()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("encodeURIComponent()")]),this._v("方法用于转码 "),s("code",[this._v("URL")]),this._v(" 的组成部分，会"),s("strong",[this._v("转码除了语义字符之外的所有字符，即元字符也会被转码。所以，它不能用于转码整个 "),s("code",[this._v("URL")])]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("它接受一个参数，就是 "),s("code",[this._v("URL")]),this._v(" 的片段。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// `encodeURIComponent()`会连 `URL` 元字符一起转义，所以如果转码整个 `URL` 就会出错。")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("encodeURIComponent")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'春节'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "%E6%98%A5%E8%8A%82"')]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("encodeURIComponent")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com/q=春节'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http%3A%2F%2Fwww.example.com%2Fq%3D%E6%98%A5%E8%8A%82"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-3-decodeuri"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-decodeuri","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.3 decodeURI()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("decodeURI()")]),t._v("方法用于整个 "),a("code",[t._v("URL")]),t._v(" 的解码。它是"),a("code",[t._v("encodeURI()")]),t._v("方法的逆运算。它接受一个参数，就是转码后的 "),a("code",[t._v("URL")]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("decodeURI")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token string"}},[this._v("'http://www.example.com/q=%E6%98%A5%E8%8A%82'")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n"),s("span",{attrs:{class:"token comment"}},[this._v('// "http://www.example.com/q=春节"')]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_2-4-decodeuricomponent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-decodeuricomponent","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.4 decodeURIComponent()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("decodeURIComponent()")]),t._v("用于"),a("code",[t._v("URL")]),t._v(" 片段的解码。它是"),a("code",[t._v("encodeURIComponent()")]),t._v("方法的逆运算。它接受一个参数，就是转码后的 "),a("code",[t._v("URL")]),t._v(" 片段。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("decodeURIComponent")]),s("span",{attrs:{class:"token punctuation"}},[this._v("(")]),s("span",{attrs:{class:"token string"}},[this._v("'%E6%98%A5%E8%8A%82'")]),s("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n"),s("span",{attrs:{class:"token comment"}},[this._v('// "春节')]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3、url-接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、url-接口","aria-hidden":"true"}},[this._v("#")]),this._v(" 3、URL 接口")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("浏览器原生提供"),s("code",[this._v("URL()")]),this._v("接口，它是一个构造函数，用来构造、解析和编码 "),s("code",[this._v("URL")]),this._v("。一般情况下，通过"),s("code",[this._v("window.URL")]),this._v("可以拿到这个构造函数。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-1-构造函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-构造函数","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.1 构造函数")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("URL()")]),t._v("作为构造函数，可以生成 "),a("code",[t._v("URL")]),t._v(" 实例。它接受一个表示 "),a("code",[t._v("URL")]),t._v(" 的字符串作为参数。如果参数不是合法的 "),a("code",[t._v("URL")]),t._v("，会报错。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 生成了一个 URL 实例，用来代表指定的网址。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://www.example.com/index.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://www.example.com/index.html"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("除了字符串，"),a("code",[t._v("URL()")]),t._v("的参数也可以是另一个 "),a("code",[t._v("URL")]),t._v(" 实例。这时，"),a("code",[t._v("URL()")]),t._v("会自动读取该实例的"),a("code",[t._v("href")]),t._v("属性，作为实际参数。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果 "),s("code",[this._v("URL")]),this._v(" 字符串是一个相对路径，那么需要表示绝对路径的第二个参数，作为计算基准。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 返回的 URL 实例的路径都是在第二个参数的基础上，切换到第一个参数得到的")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url1 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'index.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://example.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nurl1"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://example.com/index.html"')]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url2 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'page2.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://example.com/page1.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nurl2"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://example.com/page2.html"')]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 第一个参数是..，表示上层路径。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url3 "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'..'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://example.com/a/b.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nurl3"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://example.com/"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-2-实例属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-实例属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.2 实例属性")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("URL")]),this._v(" 实例的属性与"),s("code",[this._v("Location")]),this._v("对象的属性基本一致，返回当前 "),s("code",[this._v("URL")]),this._v(" 的信息。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("URL.href：返回整个 URL\nURL.protocol：返回协议，以冒号:结尾\nURL.hostname：返回域名\nURL.host：返回域名与端口，包含:号，默认的80和443端口会省略\nURL.port：返回端口\nURL.origin：返回协议、域名和端口\nURL.pathname：返回路径，以斜杠/开头\nURL.search：返回查询字符串，以问号?开头\nURL.searchParams：返回一个URLSearchParams实例，该属性是Location对象没有的\nURL.hash：返回片段识别符，以井号#开头\nURL.password：返回域名前面的密码\nURL.username：返回域名前面的用户名\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 改变 URL 实例的pathname属性和hash属性，都会实时反映在 URL 实例当中")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://user:passwd@www.example.com:4097/path/a.html?x=111#part1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://user:passwd@www.example.com:4097/path/a.html?x=111#part1"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http:"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hostname\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "www.example.com"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "www.example.com:4097"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "4097"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "http://www.example.com:4097"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "/path/a.html"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "?x=111"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchParams\n"),a("span",{attrs:{class:"token comment"}},[t._v("// URLSearchParams {}")]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "#part1"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "passwd"')]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username\n"),a("span",{attrs:{class:"token comment"}},[t._v('// "user"')]),t._v("\n这些属性里面，只有origin属性是只读的，其他属性都可写，并且会立即生效。\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'http://example.com/index.html#part1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'index2.html'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token comment"}},[t._v('// "http://example.com/index2.html#part1"')]),t._v("\n\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#part2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nurl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token comment"}},[t._v('// "http://example.com/index2.html#part2"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_3-3-静态方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-静态方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.3 静态方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("URL.createObjectURL()")]),s("li",[this._v("URL.revokeObjectURL()")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"（1）url-createobjecturl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（1）url-createobjecturl","aria-hidden":"true"}},[this._v("#")]),this._v(" （1）URL.createObjectURL()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("URL.createObjectURL()")]),t._v("方法用来为上传"),a("code",[t._v("/")]),t._v("下载的文件、流媒体文件生成一个 "),a("code",[t._v("URL")]),t._v(" 字符串。这个字符串代表了"),a("code",[t._v("File")]),t._v("对象或"),a("code",[t._v("Blob")]),t._v("对象的 "),a("code",[t._v("URL")]),t._v("。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- HTML 代码如下 --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("display"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fileElem"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("multiple")]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("accept")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("image/*"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),a("span",{attrs:{class:"token attr-name"}},[t._v("onchange")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("handleFiles(this.files)"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n "),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}},[t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("//  URL.createObjectURL()方法用来为上传的文件生成一个 URL 字符串，作为<img>元素的图片来源")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" div "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'display'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("handleFiles")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" files"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'img'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      img"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createObjectURL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n      "),a("span",{attrs:{class:"token comment"}},[t._v("// blob:null/72bf45ee-f4c5-4893-8a9b-6849d44dda39")]),t._v("\n      div"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n ")]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("注意，每次使用"),a("code",[t._v("URL.createObjectURL()")]),t._v("方法，都会在内存里面生成一个 "),a("code",[t._v("URL")]),t._v(" 实例。如果不再需要该方法生成的 "),a("code",[t._v("URL")]),t._v(" 字符串，为了节省内存，可以使用"),a("code",[t._v("URL.revokeObjectURL()")]),t._v("方法释放这个实例。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"（2）url-revokeobjecturl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#（2）url-revokeobjecturl","aria-hidden":"true"}},[this._v("#")]),this._v(" （2）URL.revokeObjectURL()")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("URL.revokeObjectURL()")]),t._v("方法用来释放"),a("code",[t._v("URL.createObjectURL()")]),t._v("方法生成的 "),a("code",[t._v("URL")]),t._v(" 实例。它的参数就是"),a("code",[t._v("URL.createObjectURL()")]),t._v("方法返回的 "),a("code",[t._v("URL")]),t._v(" 字符串。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 一旦图片加载成功以后，本地文件生成的 `URL` 字符串就没用了")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 可以在`img.onload`回调函数里面，通过`URL.revokeObjectURL()`方法卸载这个 `URL` 实例")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" div "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'display'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("handleFiles")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" files"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'img'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    img"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createObjectURL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("files"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    div"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    img"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("revokeObjectURL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4、urlsearchparams-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、urlsearchparams-对象","aria-hidden":"true"}},[this._v("#")]),this._v(" 4、URLSearchParams 对象")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-1-概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-概述","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.1 概述")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("URLSearchParams")]),this._v("对象是浏览器的原生对象，用来构造、解析和处理 "),s("code",[this._v("URL")]),this._v(" 的查询字符串（即 "),s("code",[this._v("URL")]),this._v(" 问号后面的部分）。"),s("strong",[this._v("URLSearchParams没有实例属性，只有实例方法。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("它本身也是一个构造函数，可以生成实例。参数可以为查询字符串，起首的问号"),s("code",[this._v("?")]),this._v("有没有都行，也可以是对应查询字符串的数组或对象。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 方法一：传入字符串")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=1&bar=2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 等同于")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 方法二：传入数组")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 方法三：传入对象")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nURLSearchParams会对查询字符串自动编码。\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// foo的值是汉字，URLSearchParams对其自动进行 URL 编码")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'你好'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=%E4%BD%A0%E5%A5%BD"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("浏览器向服务器发送表单数据时，可以直接使用"),s("code",[this._v("URLSearchParams")]),this._v("实例作为表单数据。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// fetch命令向服务器发送命令时，可以直接使用URLSearchParams实例")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bar"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("fetch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'https://example.com/api'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  method"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'POST'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  body"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" params\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token operator"}},[t._v("...")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("URLSearchParams")]),this._v("可以与"),s("code",[this._v("URL()")]),this._v("接口结合使用。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// `URL` 实例的`searchParams`属性就是一个`URLSearchParams`实例")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 可以使用`URLSearchParams`接口的`get`方法")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("searchParams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'somedefault'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("URLSearchParams")]),this._v("实例有遍历器接口，可以用"),s("code",[this._v("for...of")]),this._v("循环遍历。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("': '")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" p"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// foo: 1")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// bar: 2")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-2-urlsearchparams-tostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-urlsearchparams-tostring","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.2 URLSearchParams.toString()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("toString")]),this._v("方法返回实例的字符串形式。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URL")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'https://example.com?foo=1&bar=2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// \"foo=1&bar=2'")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// location.href赋值时，可以直接使用params对象，会自动调用toString")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("version"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2.0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'?'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-3-urlsearchparams-append"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-urlsearchparams-append","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.3 URLSearchParams.append()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("append()")]),this._v("方法用来追加一个查询参数。它接受两个参数，第一个为键名，第二个为键值，没有返回值。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("append")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'baz'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=1&bar=2&baz=3"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("append()")]),this._v("方法不会识别是否键名已经存在。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 查询字符串里面foo已经存在了，但是append依然会追加一个同名键。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("append")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=1&bar=2&foo=3"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-4-urlsearchparams-delete"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-urlsearchparams-delete","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.4 URLSearchParams.delete()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("delete()")]),this._v("方法用来删除指定的查询参数。它接受键名作为参数。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("delete")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=1"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-5-urlsearchparams-has"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-urlsearchparams-has","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.5 URLSearchParams.has()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("has()")]),this._v("方法返回一个布尔值，表示查询字符串是否包含指定的键名。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("has")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("has")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'baz'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-6-urlsearchparams-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-urlsearchparams-set","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.6 URLSearchParams.set()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("set()")]),this._v("方法用来设置查询字符串的键值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("它接受两个参数，第一个是键名，第二个是键值。")]),s("li",[this._v("如果是已经存在的键，键值会被改写，否则会被追加。")]),s("li",[this._v("如果有多个的同名键，set会移除现存所有的键。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// `foo`是已经存在的键，`bar`是还不存在的键")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=2"')]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=2&bar=3"')]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 如果有多个的同名键，set会移除现存所有的键")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=1&foo=2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "foo=3"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 替换当前 URL")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// URL: https://example.com?version=1.0")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("slice")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'version'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'2.0'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("replaceState")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" location"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`?`")])]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// URL: https://example.com?version=2.0")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-7-urlsearchparams-get-，urlsearchparams-getall"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-urlsearchparams-get-，urlsearchparams-getall","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.7 URLSearchParams.get()，URLSearchParams.getAll()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("get()")]),this._v("方法用来读取查询字符串里面的指定键。它接受键名作为参数。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "1"')]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'bar'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("第一，它返回的是字符串，如果原始值是数值，需要转一下类型；")]),s("li",[this._v("第二，如果指定的键名不存在，返回值是"),s("code",[this._v("null")]),this._v("。")]),s("li",[this._v("如果有多个的同名键，get返回位置最前面的那个键值。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 查询字符串有三个foo键，get方法返回最前面的键值3")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=3&foo=2&foo=1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "3"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("getAll()")]),this._v("方法返回一个数组，成员是指定键的所有键值。它接受键名作为参数。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 查询字符串有两个`foo`键，`getAll`返回的数组就有两个成员")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?foo=1&foo=2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getAll")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// ["1", "2"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-8-urlsearchparams-sort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-urlsearchparams-sort","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.8 URLSearchParams.sort()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("sort()")]),this._v("方法对查询字符串里面的键进行排序，规则是按照 "),s("code",[this._v("Unicode")]),this._v(" 码点从小到大排列。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 如果有两个同名的键`a`，它们之间不会排序，而是保留原始的顺序。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'c=4&a=2&b=3&a=1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sort")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nparams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// "a=2&a=1&b=3&c=4"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-9-urlsearchparams-keys-，urlsearchparams-values-，urlsearchparams-entries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-urlsearchparams-keys-，urlsearchparams-values-，urlsearchparams-entries","aria-hidden":"true"}},[this._v("#")]),this._v(" 4.9 URLSearchParams.keys()，URLSearchParams.values()，URLSearchParams.entries()")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这三个方法都返回一个遍历器对象，供"),s("code",[this._v("for...of")]),this._v("循环遍历。它们的区别在于，")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("keys")]),this._v("方法返回的是键名的遍历器，")]),s("li",[s("code",[this._v("values")]),this._v("方法返回的是键值的遍历器，")]),s("li",[s("code",[this._v("entries")]),this._v("返回的是键值对的遍历器。")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'a=1&b=2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("keys")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// a")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// b")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("values")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("entries")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('// ["a", "1"]')]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v('// ["b", "2"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果直接对"),s("code",[this._v("URLSearchParams")]),this._v("进行遍历，其实内部调用的就是"),s("code",[this._v("entries")]),this._v("接口。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 等同于")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" p "),a("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("entries")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);s.default=e.exports}}]);