(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{418:function(t,n,s){"use strict";s.r(n);var a=s(1),e=Object(a.a)({},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"content"},[s("p",[s("a",{attrs:{href:"https://www.wangdoc.com/javascript/events/globaleventhandlers.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("GlobalEventHandlers 接口"),s("OutboundLink")],1)]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24)])},[function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_1、概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、概述","aria-hidden":"true"}},[this._v("#")]),this._v(" 1、概述")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 指定事件的回调函数，推荐使用的方法是元素的`addEventListener`方法。")]),t._v("\ndiv"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'click'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" clickHandler"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 除了之外，还有一种方法可以直接指定事件的回调函数。")]),t._v("\ndiv"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onclick "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" clickHandler"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("后者是由"),n("code",[this._v("GlobalEventHandlers")]),this._v("接口提供的。它的"),n("strong",[this._v("优点")]),this._v("是使用比较方便，"),n("strong",[this._v("缺点")]),this._v("是只能为每个事件指定一个回调函数，并且无法指定事件触发的阶段（捕获阶段还是冒泡阶段）。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[s("strong",[s("code",[t._v("HTMLElement")]),t._v("、"),s("code",[t._v("Document")]),t._v("和"),s("code",[t._v("Window")]),t._v("都继承了这个接口")]),t._v("，也就是说，各种 "),s("code",[t._v("HTML")]),t._v(" 元素、"),s("code",[t._v("document")]),t._v("对象、"),s("code",[t._v("window")]),t._v("对象上面都可以使用"),s("code",[t._v("GlobalEventHandlers")]),t._v("接口提供的属性。下面就列出这个接口提供的主要的事件属性。")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_2、globaleventhandlers-onabort-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、globaleventhandlers-onabort-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 2、GlobalEventHandlers.onabort 属性")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("某个对象的"),n("code",[this._v("abort")]),this._v("事件（停止加载）发生时，就会调用"),n("code",[this._v("onabort")]),this._v("属性指定的回调函数。")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("各种元素的停止加载事件，到底如何触发，目前并没有统一的规定。因此实际上，这个属性现在一般只用在"),n("code",[this._v("<img>")]),this._v("元素上面。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// HTML 代码如下")]),t._v("\n"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("img src"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"example.jpg"')]),t._v(" id"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"img"')]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'img'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nimg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onabort")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'image load aborted.'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_3、globaleventhandlers-onerror-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、globaleventhandlers-onerror-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 3、GlobalEventHandlers.onerror 属性")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("code",[this._v("error")]),this._v("事件发生时，就会调用"),n("code",[this._v("onerror")]),this._v("属性指定的回调函数。"),n("code",[this._v("error")]),this._v("事件分成两种。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[t._v("一种是 "),s("code",[t._v("JavaScript")]),t._v(" 的运行时错误，这会传到"),s("code",[t._v("window")]),t._v("对象，导致"),s("code",[t._v("window.onerror()")]),t._v("。")]),s("li",[t._v("另一种是资源加载错误，比如"),s("code",[t._v("<img>")]),t._v("或"),s("code",[t._v("<script>")]),t._v("加载的资源出现加载错误。这时，"),s("code",[t._v("Error")]),t._v(" 对象会传到对应的元素，导致该元素的"),s("code",[t._v("onerror")]),t._v("属性开始执行。"),s("strong",[t._v("注意，一般来说，资源的加载错误不会触发"),s("code",[t._v("window.onerror")])]),t._v("。")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// `JavaScript` 的运行时错误，这会传到`window`对象")]),t._v("\nwindow"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" source"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lineno"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colno"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 资源加载错误，`Error` 对象会传到对应的元素")]),t._v("\nelement"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("code",[this._v("window.onerror")]),this._v("的处理函数共接受五个参数，含义如下。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("code",[t._v("message")]),t._v("：错误信息字符串")]),s("li",[s("code",[t._v("source")]),t._v("：报错脚本的 "),s("code",[t._v("URL")])]),s("li",[s("code",[t._v("lineno")]),t._v("：报错的行号，是一个整数")]),s("li",[s("code",[t._v("colno")]),t._v("：报错的列号，是一个整数")]),s("li",[s("code",[t._v("error")]),t._v("： 错误对象")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_4、globaleventhandlers-onload、onloadstart-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、globaleventhandlers-onload、onloadstart-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 4、GlobalEventHandlers.onload、onloadstart 属性")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[t._v("元素完成加载时，会触发"),s("code",[t._v("load")]),t._v("事件，执行"),s("code",[t._v("onload()")]),t._v("。它的典型使用场景是"),s("code",[t._v("window")]),t._v("对象和"),s("code",[t._v("<img>")]),t._v("元素。对于"),s("code",[t._v("window")]),t._v("对象来说，只有页面的所有资源加载完成（包括图片、脚本、样式表、字体等所有外部资源），才会触发"),s("code",[t._v("load")]),t._v("事件。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[t._v("对于"),s("code",[t._v("<img>")]),t._v("和"),s("code",[t._v("<video>")]),t._v("等元素，加载开始时还会触发"),s("code",[t._v("loadstart")]),t._v("事件，导致执行"),s("code",[t._v("onloadstart")]),t._v("。")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_5、globaleventhandlers-onscroll-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、globaleventhandlers-onscroll-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 5、GlobalEventHandlers.onscroll 属性")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("页面或元素滚动时，会触发"),n("code",[this._v("scroll")]),this._v("事件，导致执行"),n("code",[this._v("onscroll()")]),this._v("。")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_6、globaleventhandlers-oncontextmenu，onshow-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6、globaleventhandlers-oncontextmenu，onshow-属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 6、GlobalEventHandlers.oncontextmenu，onshow 属性")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[t._v("用户在页面上按下鼠标的右键，会触发"),s("code",[t._v("contextmenu")]),t._v("事件，导致执行"),s("code",[t._v("oncontextmenu()")]),t._v("。如果该属性执行后返回"),s("code",[t._v("false")]),t._v("，就等于禁止了右键菜单。"),s("code",[t._v("document.oncontextmenu")]),t._v("与"),s("code",[t._v("window.oncontextmenu")]),t._v("效果一样。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// oncontextmenu属性执行后返回false，右键菜单就不会出现")]),t._v("\ndocument"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("oncontextmenu")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("元素的右键菜单显示时，会触发该元素的"),n("code",[this._v("onshow")]),this._v("监听函数。")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"_7、其它事件属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7、其它事件属性","aria-hidden":"true"}},[this._v("#")]),this._v(" 7、其它事件属性")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 鼠标的事件属性。")]),t._v("\nonclick\nondblclick\nonmousedown\nonmouseenter\nonmouseleave\nonmousemove\nonmouseout\nonmouseover\nonmouseup\nonwheel\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 键盘的事件属性。")]),t._v("\nonkeydown\nonkeypress\nonkeyup\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 焦点的事件属性。")]),t._v("\nonblur\nonfocus\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 表单的事件属性。")]),t._v("\noninput\nonchange\nonsubmit\nonreset\noninvalid\nonselect\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 触摸的事件属性。")]),t._v("\nontouchcancel\nontouchend\nontouchmove\nontouchstart\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 拖动的事件属性分成两类：一类与被拖动元素相关，另一类与接收被拖动元素的容器元素相关。")]),t._v("\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 被拖动元素的事件属性。")]),t._v("\nondragstart：拖动开始\nondrag：拖动过程中，每隔几百毫秒触发一次\nondragend：拖动结束\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 接收被拖动元素的容器元素的事件属性。")]),t._v("\nondragenter：被拖动元素进入容器元素。\nondragleave：被拖动元素离开容器元素。\nondragover：被拖动元素在容器元素上方，每隔几百毫秒触发一次。\nondrop：松开鼠标后，被拖动元素放入容器元素。\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// <dialog>对话框元素的事件属性。")]),t._v("\noncancel\nonclose\n")])])])}],!1,null,null,null);n.default=e.exports}}]);