(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{326:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("ul",[a("li",[t._v("js => 单线程")])]),a("blockquote",[a("p",[t._v("js为什么是单线程的？")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("js主要用途\n"),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("、交互、操作"),a("span",{attrs:{class:"token constant"}},[t._v("DOM")]),t._v("和"),a("span",{attrs:{class:"token constant"}},[t._v("BOM")]),t._v("\n\njs：包括一个主线程和一个调用堆栈\n\njs执行过程中遇到的如setTimeout的异步操作，会交给浏览器处理，当达到指定执行时间时，回调函数会放入到任务队列中。一般不同的异步任务的回调函数会放入不同的任务队列中。等调用栈的所有任务执行完之后，接着去执行任务队列中的回调函数。\n\n同步：发出调用，要等得到结果才会继续执行，可能导致主线程阻塞\n异步：调用之后，不能直接拿到结果，需要通过event loop事件处理机制，在Event Queue注册回调函数最终拿到结果，拿到结果中间可以插入其他任务\n")])])]),a("blockquote",[a("p",[t._v("如果js是多线程会怎么样？")])]),a("ul",[a("li",[t._v("bs => 多线程")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("JavaScript引擎线程\n"),a("span",{attrs:{class:"token constant"}},[t._v("GUI")]),t._v("渲染线程\n浏览器事件触发线程\n浏览器Http请求线程\n")])])]),a("blockquote",[a("p",[t._v("多线程特点：多线程需要共享资源，多线程编程经常面临锁、状态同步等问题")])]),a("h3",{attrs:{id:"js引擎"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js引擎","aria-hidden":"true"}},[t._v("#")]),t._v(" JS引擎")]),a("ul",[a("li",[t._v("基本概念")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("JS")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Engine")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token constant"}},[t._v("JS")]),t._v("引擎"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Runtime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("运行上下文"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("运行环境"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token number"}},[t._v("3")]),t._v(" Call "),a("span",{attrs:{class:"token function"}},[t._v("Stack")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("回调栈"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("CallBack")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("回调函数"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("js引擎")])]),a("blockquote",[a("p",[t._v("js引擎用来执行js代码，通过编译器将代码编译成可执行的机器码给计算机执行，类似Java的JVM")])]),a("blockquote",[a("p",[t._v("引擎主要由"),a("code",[t._v("堆(Memory Heap)")]),t._v("和"),a("code",[t._v("栈(Call Statk)")]),t._v("组成"),a("br"),a("code",[t._v("Heap(堆)")]),t._v(": JS引擎给对象配置的内存空间放在堆中"),a("br"),a("code",[t._v("Statk(栈)")]),t._v(": 栈存储着JS引擎正在运行的任务")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("常见的JavaScript虚拟机：\n"),a("span",{attrs:{class:"token function"}},[t._v("Chakra")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Microsoft Internet Explorer"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nNitro"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("JavaScript "),a("span",{attrs:{class:"token function"}},[t._v("Core")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Safari"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("Carakan")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Opera"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("SpiderMonkey")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Firefox"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token constant"}},[t._v("V8")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Chrome"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Chromium"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Node"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("RunTime（运行上下文|运行环境）")])]),a("blockquote",[a("p",[t._v("RunTime（执行环境）用栈表示")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" 供js在浏览器环境执行时调用的接口：如"),a("span",{attrs:{class:"token constant"}},[t._v("BOM")]),t._v("和"),a("span",{attrs:{class:"token constant"}},[t._v("DOM")]),t._v("对象提供的外部接口；\n"),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" Node提供的各种"),a("span",{attrs:{class:"token constant"}},[t._v("API")]),t._v("；\n"),a("span",{attrs:{class:"token number"}},[t._v("3")]),t._v(" 事件循环和事件队列；\n")])])]),a("ul",[a("li",[t._v("Call Stack（调用栈）")])]),a("blockquote",[a("p",[t._v("栈的特点：先进后出FILO")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" js首次被载入时，会创建全局执行环境\n"),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" 函数被调用时，会创建一个函数执行上下文\n")])])]),a("blockquote",[a("p",[t._v("函数被调用时，会创建一个执行环境，创建一个栈"),a("br"),t._v("\n调用栈中遇到的DOM操作、ajax请求、setTimeout等WebAPIs，就会交给浏览器内核的其他模块处理，处理完之后会将回调函数放在任务队列之中，等回调栈中的任务执行完之后再去执行任务队列中的回调函数")])]),a("ul",[a("li",[t._v("Event loop(事件环)")]),a("li",[t._v("web worker")]),a("li",[t._v("主线程，执行栈与事件队列")]),a("li",[t._v("异步，事件挂起")]),a("li",[t._v("异步事件，web apis")]),a("li",[t._v("宏任务，微任务")])])])}],!1,null,null,null);s.default=e.exports}}]);